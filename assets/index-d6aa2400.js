(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function yu(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function _u(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=je(s)?UE(s):_u(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(je(t))return t;if(De(t))return t}}const PE=/;(?![^(]*\))/g,$E=/:([^]+)/,VE=/\/\*.*?\*\//gs;function UE(t){const e={};return t.replace(VE,"").split(PE).forEach(n=>{if(n){const s=n.split($E);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function mi(t){let e="";if(je(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const s=mi(t[n]);s&&(e+=s+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const FE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BE=yu(FE);function mg(t){return!!t||t===""}const kc=t=>je(t)?t:t==null?"":ee(t)||De(t)&&(t.toString===Eg||!ie(t.toString))?JSON.stringify(t,yg,2):String(t),yg=(t,e)=>e&&e.__v_isRef?yg(t,e.value):Zs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:_g(e)?{[`Set(${e.size})`]:[...e.values()]}:De(e)&&!ee(e)&&!wg(e)?String(e):e,Ne={},Js=[],Ut=()=>{},jE=()=>!1,HE=/^on[^a-z]/,La=t=>HE.test(t),vu=t=>t.startsWith("onUpdate:"),gt=Object.assign,Eu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},qE=Object.prototype.hasOwnProperty,fe=(t,e)=>qE.call(t,e),ee=Array.isArray,Zs=t=>xa(t)==="[object Map]",_g=t=>xa(t)==="[object Set]",ie=t=>typeof t=="function",je=t=>typeof t=="string",wu=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",vg=t=>De(t)&&ie(t.then)&&ie(t.catch),Eg=Object.prototype.toString,xa=t=>Eg.call(t),zE=t=>xa(t).slice(8,-1),wg=t=>xa(t)==="[object Object]",bu=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fo=yu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ma=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},KE=/-(\w)/g,ar=Ma(t=>t.replace(KE,(e,n)=>n?n.toUpperCase():"")),WE=/\B([A-Z])/g,Dr=Ma(t=>t.replace(WE,"-$1").toLowerCase()),bg=Ma(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rc=Ma(t=>t?`on${bg(t)}`:""),yi=(t,e)=>!Object.is(t,e),Lc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},na=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Tg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let If;const GE=()=>If||(If=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Yt;class Ig{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Yt,!e&&Yt&&(this.index=(Yt.scopes||(Yt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Yt;try{return Yt=this,e()}finally{Yt=n}}}on(){Yt=this}off(){Yt=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function YE(t){return new Ig(t)}function QE(t,e=Yt){e&&e.active&&e.effects.push(t)}const Tu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ag=t=>(t.w&zn)>0,Sg=t=>(t.n&zn)>0,XE=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=zn},JE=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Ag(r)&&!Sg(r)?r.delete(t):e[n++]=r,r.w&=~zn,r.n&=~zn}e.length=n}},_l=new WeakMap;let Xr=0,zn=1;const vl=30;let $t;const ms=Symbol(""),El=Symbol("");class Iu{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,QE(this,s)}run(){if(!this.active)return this.fn();let e=$t,n=Vn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=$t,$t=this,Vn=!0,zn=1<<++Xr,Xr<=vl?XE(this):Af(this),this.fn()}finally{Xr<=vl&&JE(this),zn=1<<--Xr,$t=this.parent,Vn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$t===this?this.deferStop=!0:this.active&&(Af(this),this.onStop&&this.onStop(),this.active=!1)}}function Af(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Vn=!0;const Cg=[];function kr(){Cg.push(Vn),Vn=!1}function Rr(){const t=Cg.pop();Vn=t===void 0?!0:t}function It(t,e,n){if(Vn&&$t){let s=_l.get(t);s||_l.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Tu()),Ng(r)}}function Ng(t,e){let n=!1;Xr<=vl?Sg(t)||(t.n|=zn,n=!Ag(t)):n=!t.has($t),n&&(t.add($t),$t.deps.push(t))}function _n(t,e,n,s,r,i){const o=_l.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ee(t)){const c=Tg(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ee(t)?bu(n)&&a.push(o.get("length")):(a.push(o.get(ms)),Zs(t)&&a.push(o.get(El)));break;case"delete":ee(t)||(a.push(o.get(ms)),Zs(t)&&a.push(o.get(El)));break;case"set":Zs(t)&&a.push(o.get(ms));break}if(a.length===1)a[0]&&wl(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);wl(Tu(c))}}function wl(t,e){const n=ee(t)?t:[...t];for(const s of n)s.computed&&Sf(s);for(const s of n)s.computed||Sf(s)}function Sf(t,e){(t!==$t||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ZE=yu("__proto__,__v_isRef,__isVue"),Og=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wu)),ew=Au(),tw=Au(!1,!0),nw=Au(!0),Cf=sw();function sw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ye(this);for(let i=0,o=this.length;i<o;i++)It(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){kr();const s=ye(this)[e].apply(this,n);return Rr(),s}}),t}function Au(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?vw:xg:e?Lg:Rg).get(s))return s;const o=ee(s);if(!t&&o&&fe(Cf,r))return Reflect.get(Cf,r,i);const a=Reflect.get(s,r,i);return(wu(r)?Og.has(r):ZE(r))||(t||It(s,"get",r),e)?a:st(a)?o&&bu(r)?a:a.value:De(a)?t?Mg(a):Bi(a):a}}const rw=Dg(),iw=Dg(!0);function Dg(t=!1){return function(n,s,r,i){let o=n[s];if(cr(o)&&st(o)&&!st(r))return!1;if(!t&&(!sa(r)&&!cr(r)&&(o=ye(o),r=ye(r)),!ee(n)&&st(o)&&!st(r)))return o.value=r,!0;const a=ee(n)&&bu(s)?Number(s)<n.length:fe(n,s),c=Reflect.set(n,s,r,i);return n===ye(i)&&(a?yi(r,o)&&_n(n,"set",s,r):_n(n,"add",s,r)),c}}function ow(t,e){const n=fe(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&_n(t,"delete",e,void 0),s}function aw(t,e){const n=Reflect.has(t,e);return(!wu(e)||!Og.has(e))&&It(t,"has",e),n}function cw(t){return It(t,"iterate",ee(t)?"length":ms),Reflect.ownKeys(t)}const kg={get:ew,set:rw,deleteProperty:ow,has:aw,ownKeys:cw},lw={get:nw,set(t,e){return!0},deleteProperty(t,e){return!0}},uw=gt({},kg,{get:tw,set:iw}),Su=t=>t,Pa=t=>Reflect.getPrototypeOf(t);function Eo(t,e,n=!1,s=!1){t=t.__v_raw;const r=ye(t),i=ye(e);n||(e!==i&&It(r,"get",e),It(r,"get",i));const{has:o}=Pa(r),a=s?Su:n?Du:_i;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function wo(t,e=!1){const n=this.__v_raw,s=ye(n),r=ye(t);return e||(t!==r&&It(s,"has",t),It(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function bo(t,e=!1){return t=t.__v_raw,!e&&It(ye(t),"iterate",ms),Reflect.get(t,"size",t)}function Nf(t){t=ye(t);const e=ye(this);return Pa(e).has.call(e,t)||(e.add(t),_n(e,"add",t,t)),this}function Of(t,e){e=ye(e);const n=ye(this),{has:s,get:r}=Pa(n);let i=s.call(n,t);i||(t=ye(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?yi(e,o)&&_n(n,"set",t,e):_n(n,"add",t,e),this}function Df(t){const e=ye(this),{has:n,get:s}=Pa(e);let r=n.call(e,t);r||(t=ye(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&_n(e,"delete",t,void 0),i}function kf(){const t=ye(this),e=t.size!==0,n=t.clear();return e&&_n(t,"clear",void 0,void 0),n}function To(t,e){return function(s,r){const i=this,o=i.__v_raw,a=ye(o),c=e?Su:t?Du:_i;return!t&&It(a,"iterate",ms),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Io(t,e,n){return function(...s){const r=this.__v_raw,i=ye(r),o=Zs(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?Su:e?Du:_i;return!e&&It(i,"iterate",c?El:ms),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Nn(t){return function(...e){return t==="delete"?!1:this}}function hw(){const t={get(i){return Eo(this,i)},get size(){return bo(this)},has:wo,add:Nf,set:Of,delete:Df,clear:kf,forEach:To(!1,!1)},e={get(i){return Eo(this,i,!1,!0)},get size(){return bo(this)},has:wo,add:Nf,set:Of,delete:Df,clear:kf,forEach:To(!1,!0)},n={get(i){return Eo(this,i,!0)},get size(){return bo(this,!0)},has(i){return wo.call(this,i,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:To(!0,!1)},s={get(i){return Eo(this,i,!0,!0)},get size(){return bo(this,!0)},has(i){return wo.call(this,i,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:To(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Io(i,!1,!1),n[i]=Io(i,!0,!1),e[i]=Io(i,!1,!0),s[i]=Io(i,!0,!0)}),[t,n,e,s]}const[fw,dw,pw,gw]=hw();function Cu(t,e){const n=e?t?gw:pw:t?dw:fw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(fe(n,r)&&r in s?n:s,r,i)}const mw={get:Cu(!1,!1)},yw={get:Cu(!1,!0)},_w={get:Cu(!0,!1)},Rg=new WeakMap,Lg=new WeakMap,xg=new WeakMap,vw=new WeakMap;function Ew(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ww(t){return t.__v_skip||!Object.isExtensible(t)?0:Ew(zE(t))}function Bi(t){return cr(t)?t:Nu(t,!1,kg,mw,Rg)}function bw(t){return Nu(t,!1,uw,yw,Lg)}function Mg(t){return Nu(t,!0,lw,_w,xg)}function Nu(t,e,n,s,r){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ww(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function er(t){return cr(t)?er(t.__v_raw):!!(t&&t.__v_isReactive)}function cr(t){return!!(t&&t.__v_isReadonly)}function sa(t){return!!(t&&t.__v_isShallow)}function Pg(t){return er(t)||cr(t)}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function Ou(t){return na(t,"__v_skip",!0),t}const _i=t=>De(t)?Bi(t):t,Du=t=>De(t)?Mg(t):t;function $g(t){Vn&&$t&&(t=ye(t),Ng(t.dep||(t.dep=Tu())))}function Vg(t,e){t=ye(t),t.dep&&wl(t.dep)}function st(t){return!!(t&&t.__v_isRef===!0)}function Ug(t){return Fg(t,!1)}function Tw(t){return Fg(t,!0)}function Fg(t,e){return st(t)?t:new Iw(t,e)}class Iw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ye(e),this._value=n?e:_i(e)}get value(){return $g(this),this._value}set value(e){const n=this.__v_isShallow||sa(e)||cr(e);e=n?e:ye(e),yi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:_i(e),Vg(this))}}function ys(t){return st(t)?t.value:t}const Aw={get:(t,e,n)=>ys(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return st(r)&&!st(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Bg(t){return er(t)?t:new Proxy(t,Aw)}var jg;class Sw{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[jg]=!1,this._dirty=!0,this.effect=new Iu(e,()=>{this._dirty||(this._dirty=!0,Vg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=ye(this);return $g(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}jg="__v_isReadonly";function Cw(t,e,n=!1){let s,r;const i=ie(t);return i?(s=t,r=Ut):(s=t.get,r=t.set),new Sw(s,r,i||!r,n)}function Un(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){$a(i,e,n)}return r}function Ft(t,e,n,s){if(ie(t)){const i=Un(t,e,n,s);return i&&vg(i)&&i.catch(o=>{$a(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Ft(t[i],e,n,s));return r}function $a(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Un(c,null,10,[t,o,a]);return}}Nw(t,n,r,s)}function Nw(t,e,n,s=!0){console.error(t)}let vi=!1,bl=!1;const et=[];let Xt=0;const tr=[];let ln=null,ls=0;const Hg=Promise.resolve();let ku=null;function qg(t){const e=ku||Hg;return t?e.then(this?t.bind(this):t):e}function Ow(t){let e=Xt+1,n=et.length;for(;e<n;){const s=e+n>>>1;Ei(et[s])<t?e=s+1:n=s}return e}function Ru(t){(!et.length||!et.includes(t,vi&&t.allowRecurse?Xt+1:Xt))&&(t.id==null?et.push(t):et.splice(Ow(t.id),0,t),zg())}function zg(){!vi&&!bl&&(bl=!0,ku=Hg.then(Wg))}function Dw(t){const e=et.indexOf(t);e>Xt&&et.splice(e,1)}function kw(t){ee(t)?tr.push(...t):(!ln||!ln.includes(t,t.allowRecurse?ls+1:ls))&&tr.push(t),zg()}function Rf(t,e=vi?Xt+1:0){for(;e<et.length;e++){const n=et[e];n&&n.pre&&(et.splice(e,1),e--,n())}}function Kg(t){if(tr.length){const e=[...new Set(tr)];if(tr.length=0,ln){ln.push(...e);return}for(ln=e,ln.sort((n,s)=>Ei(n)-Ei(s)),ls=0;ls<ln.length;ls++)ln[ls]();ln=null,ls=0}}const Ei=t=>t.id==null?1/0:t.id,Rw=(t,e)=>{const n=Ei(t)-Ei(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Wg(t){bl=!1,vi=!0,et.sort(Rw);const e=Ut;try{for(Xt=0;Xt<et.length;Xt++){const n=et[Xt];n&&n.active!==!1&&Un(n,null,14)}}finally{Xt=0,et.length=0,Kg(),vi=!1,ku=null,(et.length||tr.length)&&Wg()}}function Lw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ne;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Ne;f&&(r=n.map(p=>je(p)?p.trim():p)),h&&(r=n.map(Tg))}let a,c=s[a=Rc(e)]||s[a=Rc(ar(e))];!c&&i&&(c=s[a=Rc(Dr(e))]),c&&Ft(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ft(l,t,6,r)}}function Gg(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ie(t)){const c=l=>{const u=Gg(l,e,!0);u&&(a=!0,gt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(De(t)&&s.set(t,null),null):(ee(i)?i.forEach(c=>o[c]=null):gt(o,i),De(t)&&s.set(t,o),o)}function Va(t,e){return!t||!La(e)?!1:(e=e.slice(2).replace(/Once$/,""),fe(t,e[0].toLowerCase()+e.slice(1))||fe(t,Dr(e))||fe(t,e))}let vt=null,Yg=null;function ra(t){const e=vt;return vt=t,Yg=t&&t.type.__scopeId||null,e}function Xe(t,e=vt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Ff(-1);const i=ra(e);let o;try{o=t(...r)}finally{ra(i),s._d&&Ff(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function xc(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:y}=t;let w,I;const k=ra(t);try{if(n.shapeFlag&4){const x=r||s;w=Qt(u.call(x,x,h,i,p,f,m)),I=c}else{const x=e;w=Qt(x.length>1?x(i,{attrs:c,slots:a,emit:l}):x(i,null)),I=e.props?c:xw(c)}}catch(x){oi.length=0,$a(x,t,1),w=Te(Kn)}let R=w;if(I&&y!==!1){const x=Object.keys(I),{shapeFlag:z}=R;x.length&&z&7&&(o&&x.some(vu)&&(I=Mw(I,o)),R=lr(R,I))}return n.dirs&&(R=lr(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),w=R,ra(k),w}const xw=t=>{let e;for(const n in t)(n==="class"||n==="style"||La(n))&&((e||(e={}))[n]=t[n]);return e},Mw=(t,e)=>{const n={};for(const s in t)(!vu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Pw(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Lf(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Va(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Lf(s,o,l):!0:!!o;return!1}function Lf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Va(n,i))return!0}return!1}function $w({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Vw=t=>t.__isSuspense;function Uw(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):kw(t)}function Bo(t,e){if(tt){let n=tt.provides;const s=tt.parent&&tt.parent.provides;s===n&&(n=tt.provides=Object.create(s)),n[t]=e}}function pn(t,e,n=!1){const s=tt||vt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ie(e)?e.call(s.proxy):e}}const Ao={};function jo(t,e,n){return Qg(t,e,n)}function Qg(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ne){const a=tt;let c,l=!1,u=!1;if(st(t)?(c=()=>t.value,l=sa(t)):er(t)?(c=()=>t,s=!0):ee(t)?(u=!0,l=t.some(R=>er(R)||sa(R)),c=()=>t.map(R=>{if(st(R))return R.value;if(er(R))return Gs(R);if(ie(R))return Un(R,a,2)})):ie(t)?e?c=()=>Un(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Ft(t,a,3,[f])}:c=Ut,e&&s){const R=c;c=()=>Gs(R())}let h,f=R=>{h=I.onStop=()=>{Un(R,a,4)}},p;if(bi)if(f=Ut,e?n&&Ft(e,a,3,[c(),u?[]:void 0,f]):c(),r==="sync"){const R=kb();p=R.__watcherHandles||(R.__watcherHandles=[])}else return Ut;let m=u?new Array(t.length).fill(Ao):Ao;const y=()=>{if(I.active)if(e){const R=I.run();(s||l||(u?R.some((x,z)=>yi(x,m[z])):yi(R,m)))&&(h&&h(),Ft(e,a,3,[R,m===Ao?void 0:u&&m[0]===Ao?[]:m,f]),m=R)}else I.run()};y.allowRecurse=!!e;let w;r==="sync"?w=y:r==="post"?w=()=>mt(y,a&&a.suspense):(y.pre=!0,a&&(y.id=a.uid),w=()=>Ru(y));const I=new Iu(c,w);e?n?y():m=I.run():r==="post"?mt(I.run.bind(I),a&&a.suspense):I.run();const k=()=>{I.stop(),a&&a.scope&&Eu(a.scope.effects,I)};return p&&p.push(k),k}function Fw(t,e,n){const s=this.proxy,r=je(t)?t.includes(".")?Xg(s,t):()=>s[t]:t.bind(s,s);let i;ie(e)?i=e:(i=e.handler,n=e);const o=tt;ur(this);const a=Qg(r,i.bind(s),n);return o?ur(o):_s(),a}function Xg(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gs(t,e){if(!De(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),st(t))Gs(t.value,e);else if(ee(t))for(let n=0;n<t.length;n++)Gs(t[n],e);else if(_g(t)||Zs(t))t.forEach(n=>{Gs(n,e)});else if(wg(t))for(const n in t)Gs(t[n],e);return t}function Jg(t){return ie(t)?{setup:t,name:t.name}:t}const ri=t=>!!t.type.__asyncLoader,Zg=t=>t.type.__isKeepAlive;function Bw(t,e){em(t,"a",e)}function jw(t,e){em(t,"da",e)}function em(t,e,n=tt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ua(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Zg(r.parent.vnode)&&Hw(s,e,n,r),r=r.parent}}function Hw(t,e,n,s){const r=Ua(e,t,s,!0);tm(()=>{Eu(s[e],r)},n)}function Ua(t,e,n=tt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;kr(),ur(n);const a=Ft(e,n,t,o);return _s(),Rr(),a});return s?r.unshift(i):r.push(i),i}}const An=t=>(e,n=tt)=>(!bi||t==="sp")&&Ua(t,(...s)=>e(...s),n),qw=An("bm"),zw=An("m"),Kw=An("bu"),Ww=An("u"),Gw=An("bum"),tm=An("um"),Yw=An("sp"),Qw=An("rtg"),Xw=An("rtc");function Jw(t,e=tt){Ua("ec",t,e)}function is(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(kr(),Ft(c,n,8,[t.el,a,t,e]),Rr())}}const Zw=Symbol();function eb(t,e,n,s){let r;const i=n&&n[s];if(ee(t)||je(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(De(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function Mc(t,e,n={},s,r){if(vt.isCE||vt.parent&&ri(vt.parent)&&vt.parent.isCE)return e!=="default"&&(n.name=e),Te("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),Ke();const o=i&&nm(i(n)),a=Mu(yt,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function nm(t){return t.some(e=>oa(e)?!(e.type===Kn||e.type===yt&&!nm(e.children)):!0)?t:null}const Tl=t=>t?pm(t)?$u(t)||t.proxy:Tl(t.parent):null,ii=gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tl(t.parent),$root:t=>Tl(t.root),$emit:t=>t.emit,$options:t=>Lu(t),$forceUpdate:t=>t.f||(t.f=()=>Ru(t.update)),$nextTick:t=>t.n||(t.n=qg.bind(t.proxy)),$watch:t=>Fw.bind(t)}),Pc=(t,e)=>t!==Ne&&!t.__isScriptSetup&&fe(t,e),tb={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Pc(s,e))return o[e]=1,s[e];if(r!==Ne&&fe(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&fe(l,e))return o[e]=3,i[e];if(n!==Ne&&fe(n,e))return o[e]=4,n[e];Il&&(o[e]=0)}}const u=ii[e];let h,f;if(u)return e==="$attrs"&&It(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ne&&fe(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,fe(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Pc(r,e)?(r[e]=n,!0):s!==Ne&&fe(s,e)?(s[e]=n,!0):fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ne&&fe(t,o)||Pc(e,o)||(a=i[0])&&fe(a,o)||fe(s,o)||fe(ii,o)||fe(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Il=!0;function nb(t){const e=Lu(t),n=t.proxy,s=t.ctx;Il=!1,e.beforeCreate&&xf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:y,deactivated:w,beforeDestroy:I,beforeUnmount:k,destroyed:R,unmounted:x,render:z,renderTracked:K,renderTriggered:se,errorCaptured:_e,serverPrefetch:ve,expose:de,inheritAttrs:Ae,components:ke,directives:Re,filters:ct}=e;if(l&&sb(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const oe in o){const he=o[oe];ie(he)&&(s[oe]=he.bind(n))}if(r){const oe=r.call(n,n);De(oe)&&(t.data=Bi(oe))}if(Il=!0,i)for(const oe in i){const he=i[oe],Ue=ie(he)?he.bind(n,n):ie(he.get)?he.get.bind(n,n):Ut,Nt=!ie(he)&&ie(he.set)?he.set.bind(n):Ut,lt=Ot({get:Ue,set:Nt});Object.defineProperty(s,oe,{enumerable:!0,configurable:!0,get:()=>lt.value,set:xe=>lt.value=xe})}if(a)for(const oe in a)sm(a[oe],s,n,oe);if(c){const oe=ie(c)?c.call(n):c;Reflect.ownKeys(oe).forEach(he=>{Bo(he,oe[he])})}u&&xf(u,t,"c");function le(oe,he){ee(he)?he.forEach(Ue=>oe(Ue.bind(n))):he&&oe(he.bind(n))}if(le(qw,h),le(zw,f),le(Kw,p),le(Ww,m),le(Bw,y),le(jw,w),le(Jw,_e),le(Xw,K),le(Qw,se),le(Gw,k),le(tm,x),le(Yw,ve),ee(de))if(de.length){const oe=t.exposed||(t.exposed={});de.forEach(he=>{Object.defineProperty(oe,he,{get:()=>n[he],set:Ue=>n[he]=Ue})})}else t.exposed||(t.exposed={});z&&t.render===Ut&&(t.render=z),Ae!=null&&(t.inheritAttrs=Ae),ke&&(t.components=ke),Re&&(t.directives=Re)}function sb(t,e,n=Ut,s=!1){ee(t)&&(t=Al(t));for(const r in t){const i=t[r];let o;De(i)?"default"in i?o=pn(i.from||r,i.default,!0):o=pn(i.from||r):o=pn(i),st(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function xf(t,e,n){Ft(ee(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function sm(t,e,n,s){const r=s.includes(".")?Xg(n,s):()=>n[s];if(je(t)){const i=e[t];ie(i)&&jo(r,i)}else if(ie(t))jo(r,t.bind(n));else if(De(t))if(ee(t))t.forEach(i=>sm(i,e,n,s));else{const i=ie(t.handler)?t.handler.bind(n):e[t.handler];ie(i)&&jo(r,i,t)}}function Lu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>ia(c,l,o,!0)),ia(c,e,o)),De(e)&&i.set(e,c),c}function ia(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ia(t,i,n,!0),r&&r.forEach(o=>ia(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=rb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rb={data:Mf,props:as,emits:as,methods:as,computed:as,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:as,directives:as,watch:ob,provide:Mf,inject:ib};function Mf(t,e){return e?t?function(){return gt(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function ib(t,e){return as(Al(t),Al(e))}function Al(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ut(t,e){return t?[...new Set([].concat(t,e))]:e}function as(t,e){return t?gt(gt(Object.create(null),t),e):e}function ob(t,e){if(!t)return e;if(!e)return t;const n=gt(Object.create(null),t);for(const s in e)n[s]=ut(t[s],e[s]);return n}function ab(t,e,n,s=!1){const r={},i={};na(i,Ba,1),t.propsDefaults=Object.create(null),rm(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:bw(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function cb(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ye(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Va(t.emitsOptions,f))continue;const p=e[f];if(c)if(fe(i,f))p!==i[f]&&(i[f]=p,l=!0);else{const m=ar(f);r[m]=Sl(c,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,l=!0)}}}else{rm(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!fe(e,h)&&((u=Dr(h))===h||!fe(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=Sl(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!fe(e,h))&&(delete i[h],l=!0)}l&&_n(t,"set","$attrs")}function rm(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Fo(c))continue;const l=e[c];let u;r&&fe(r,u=ar(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Va(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=ye(n),l=a||Ne;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Sl(r,c,h,l[h],t,!fe(l,h))}}return o}function Sl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=fe(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&ie(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(ur(r),s=l[n]=c.call(null,e),_s())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Dr(n))&&(s=!0))}return s}function im(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!ie(t)){const u=h=>{c=!0;const[f,p]=im(h,e,!0);gt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return De(t)&&s.set(t,Js),Js;if(ee(i))for(let u=0;u<i.length;u++){const h=ar(i[u]);Pf(h)&&(o[h]=Ne)}else if(i)for(const u in i){const h=ar(u);if(Pf(h)){const f=i[u],p=o[h]=ee(f)||ie(f)?{type:f}:Object.assign({},f);if(p){const m=Uf(Boolean,p.type),y=Uf(String,p.type);p[0]=m>-1,p[1]=y<0||m<y,(m>-1||fe(p,"default"))&&a.push(h)}}}const l=[o,a];return De(t)&&s.set(t,l),l}function Pf(t){return t[0]!=="$"}function $f(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Vf(t,e){return $f(t)===$f(e)}function Uf(t,e){return ee(e)?e.findIndex(n=>Vf(n,t)):ie(e)&&Vf(e,t)?0:-1}const om=t=>t[0]==="_"||t==="$stable",xu=t=>ee(t)?t.map(Qt):[Qt(t)],lb=(t,e,n)=>{if(e._n)return e;const s=Xe((...r)=>xu(e(...r)),n);return s._c=!1,s},am=(t,e,n)=>{const s=t._ctx;for(const r in t){if(om(r))continue;const i=t[r];if(ie(i))e[r]=lb(r,i,s);else if(i!=null){const o=xu(i);e[r]=()=>o}}},cm=(t,e)=>{const n=xu(e);t.slots.default=()=>n},ub=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ye(e),na(e,"_",n)):am(e,t.slots={})}else t.slots={},e&&cm(t,e);na(t.slots,Ba,1)},hb=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ne;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(gt(r,e),!n&&a===1&&delete r._):(i=!e.$stable,am(e,r)),o=e}else e&&(cm(t,e),o={default:1});if(i)for(const a in r)!om(a)&&!(a in o)&&delete r[a]};function lm(){return{app:null,config:{isNativeTag:jE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fb=0;function db(t,e){return function(s,r=null){ie(s)||(s=Object.assign({},s)),r!=null&&!De(r)&&(r=null);const i=lm(),o=new Set;let a=!1;const c=i.app={_uid:fb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Rb,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ie(l.install)?(o.add(l),l.install(c,...u)):ie(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=Te(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,$u(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Cl(t,e,n,s,r=!1){if(ee(t)){t.forEach((f,p)=>Cl(f,e&&(ee(e)?e[p]:e),n,s,r));return}if(ri(s)&&!r)return;const i=s.shapeFlag&4?$u(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ne?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(je(l)?(u[l]=null,fe(h,l)&&(h[l]=null)):st(l)&&(l.value=null)),ie(c))Un(c,a,12,[o,u]);else{const f=je(c),p=st(c);if(f||p){const m=()=>{if(t.f){const y=f?fe(h,c)?h[c]:u[c]:c.value;r?ee(y)&&Eu(y,i):ee(y)?y.includes(i)||y.push(i):f?(u[c]=[i],fe(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,fe(h,c)&&(h[c]=o)):p&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,mt(m,n)):m()}}}const mt=Uw;function pb(t){return gb(t)}function gb(t,e){const n=GE();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Ut,insertStaticContent:m}=t,y=(d,g,_,v=null,T=null,O=null,P=!1,N=null,D=!!g.dynamicChildren)=>{if(d===g)return;d&&!zr(d,g)&&(v=L(d),xe(d,T,O,!0),d=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:A,ref:j,shapeFlag:V}=g;switch(A){case Fa:w(d,g,_,v);break;case Kn:I(d,g,_,v);break;case Ho:d==null&&k(g,_,v,P);break;case yt:ke(d,g,_,v,T,O,P,N,D);break;default:V&1?z(d,g,_,v,T,O,P,N,D):V&6?Re(d,g,_,v,T,O,P,N,D):(V&64||V&128)&&A.process(d,g,_,v,T,O,P,N,D,ae)}j!=null&&T&&Cl(j,d&&d.ref,O,g||d,!g)},w=(d,g,_,v)=>{if(d==null)s(g.el=a(g.children),_,v);else{const T=g.el=d.el;g.children!==d.children&&l(T,g.children)}},I=(d,g,_,v)=>{d==null?s(g.el=c(g.children||""),_,v):g.el=d.el},k=(d,g,_,v)=>{[d.el,d.anchor]=m(d.children,g,_,v,d.el,d.anchor)},R=({el:d,anchor:g},_,v)=>{let T;for(;d&&d!==g;)T=f(d),s(d,_,v),d=T;s(g,_,v)},x=({el:d,anchor:g})=>{let _;for(;d&&d!==g;)_=f(d),r(d),d=_;r(g)},z=(d,g,_,v,T,O,P,N,D)=>{P=P||g.type==="svg",d==null?K(g,_,v,T,O,P,N,D):ve(d,g,T,O,P,N,D)},K=(d,g,_,v,T,O,P,N)=>{let D,A;const{type:j,props:V,shapeFlag:B,transition:W,dirs:re}=d;if(D=d.el=o(d.type,O,V&&V.is,V),B&8?u(D,d.children):B&16&&_e(d.children,D,null,v,T,O&&j!=="foreignObject",P,N),re&&is(d,null,v,"created"),V){for(const pe in V)pe!=="value"&&!Fo(pe)&&i(D,pe,null,V[pe],O,d.children,v,T,M);"value"in V&&i(D,"value",null,V.value),(A=V.onVnodeBeforeMount)&&Gt(A,v,d)}se(D,d,d.scopeId,P,v),re&&is(d,null,v,"beforeMount");const Ee=(!T||T&&!T.pendingBranch)&&W&&!W.persisted;Ee&&W.beforeEnter(D),s(D,g,_),((A=V&&V.onVnodeMounted)||Ee||re)&&mt(()=>{A&&Gt(A,v,d),Ee&&W.enter(D),re&&is(d,null,v,"mounted")},T)},se=(d,g,_,v,T)=>{if(_&&p(d,_),v)for(let O=0;O<v.length;O++)p(d,v[O]);if(T){let O=T.subTree;if(g===O){const P=T.vnode;se(d,P,P.scopeId,P.slotScopeIds,T.parent)}}},_e=(d,g,_,v,T,O,P,N,D=0)=>{for(let A=D;A<d.length;A++){const j=d[A]=N?Rn(d[A]):Qt(d[A]);y(null,j,g,_,v,T,O,P,N)}},ve=(d,g,_,v,T,O,P)=>{const N=g.el=d.el;let{patchFlag:D,dynamicChildren:A,dirs:j}=g;D|=d.patchFlag&16;const V=d.props||Ne,B=g.props||Ne;let W;_&&os(_,!1),(W=B.onVnodeBeforeUpdate)&&Gt(W,_,g,d),j&&is(g,d,_,"beforeUpdate"),_&&os(_,!0);const re=T&&g.type!=="foreignObject";if(A?de(d.dynamicChildren,A,N,_,v,re,O):P||he(d,g,N,null,_,v,re,O,!1),D>0){if(D&16)Ae(N,g,V,B,_,v,T);else if(D&2&&V.class!==B.class&&i(N,"class",null,B.class,T),D&4&&i(N,"style",V.style,B.style,T),D&8){const Ee=g.dynamicProps;for(let pe=0;pe<Ee.length;pe++){const Me=Ee[pe],Pt=V[Me],Vs=B[Me];(Vs!==Pt||Me==="value")&&i(N,Me,Pt,Vs,T,d.children,_,v,M)}}D&1&&d.children!==g.children&&u(N,g.children)}else!P&&A==null&&Ae(N,g,V,B,_,v,T);((W=B.onVnodeUpdated)||j)&&mt(()=>{W&&Gt(W,_,g,d),j&&is(g,d,_,"updated")},v)},de=(d,g,_,v,T,O,P)=>{for(let N=0;N<g.length;N++){const D=d[N],A=g[N],j=D.el&&(D.type===yt||!zr(D,A)||D.shapeFlag&70)?h(D.el):_;y(D,A,j,null,v,T,O,P,!0)}},Ae=(d,g,_,v,T,O,P)=>{if(_!==v){if(_!==Ne)for(const N in _)!Fo(N)&&!(N in v)&&i(d,N,_[N],null,P,g.children,T,O,M);for(const N in v){if(Fo(N))continue;const D=v[N],A=_[N];D!==A&&N!=="value"&&i(d,N,A,D,P,g.children,T,O,M)}"value"in v&&i(d,"value",_.value,v.value)}},ke=(d,g,_,v,T,O,P,N,D)=>{const A=g.el=d?d.el:a(""),j=g.anchor=d?d.anchor:a("");let{patchFlag:V,dynamicChildren:B,slotScopeIds:W}=g;W&&(N=N?N.concat(W):W),d==null?(s(A,_,v),s(j,_,v),_e(g.children,_,j,T,O,P,N,D)):V>0&&V&64&&B&&d.dynamicChildren?(de(d.dynamicChildren,B,_,T,O,P,N),(g.key!=null||T&&g===T.subTree)&&um(d,g,!0)):he(d,g,_,j,T,O,P,N,D)},Re=(d,g,_,v,T,O,P,N,D)=>{g.slotScopeIds=N,d==null?g.shapeFlag&512?T.ctx.activate(g,_,v,P,D):ct(g,_,v,T,O,P,D):wt(d,g,D)},ct=(d,g,_,v,T,O,P)=>{const N=d.component=Ib(d,v,T);if(Zg(d)&&(N.ctx.renderer=ae),Ab(N),N.asyncDep){if(T&&T.registerDep(N,le),!d.el){const D=N.subTree=Te(Kn);I(null,D,g,_)}return}le(N,d,g,_,T,O,P)},wt=(d,g,_)=>{const v=g.component=d.component;if(Pw(d,g,_))if(v.asyncDep&&!v.asyncResolved){oe(v,g,_);return}else v.next=g,Dw(v.update),v.update();else g.el=d.el,v.vnode=g},le=(d,g,_,v,T,O,P)=>{const N=()=>{if(d.isMounted){let{next:j,bu:V,u:B,parent:W,vnode:re}=d,Ee=j,pe;os(d,!1),j?(j.el=re.el,oe(d,j,P)):j=re,V&&Lc(V),(pe=j.props&&j.props.onVnodeBeforeUpdate)&&Gt(pe,W,j,re),os(d,!0);const Me=xc(d),Pt=d.subTree;d.subTree=Me,y(Pt,Me,h(Pt.el),L(Pt),d,T,O),j.el=Me.el,Ee===null&&$w(d,Me.el),B&&mt(B,T),(pe=j.props&&j.props.onVnodeUpdated)&&mt(()=>Gt(pe,W,j,re),T)}else{let j;const{el:V,props:B}=g,{bm:W,m:re,parent:Ee}=d,pe=ri(g);if(os(d,!1),W&&Lc(W),!pe&&(j=B&&B.onVnodeBeforeMount)&&Gt(j,Ee,g),os(d,!0),V&&Z){const Me=()=>{d.subTree=xc(d),Z(V,d.subTree,d,T,null)};pe?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Me()):Me()}else{const Me=d.subTree=xc(d);y(null,Me,_,v,d,T,O),g.el=Me.el}if(re&&mt(re,T),!pe&&(j=B&&B.onVnodeMounted)){const Me=g;mt(()=>Gt(j,Ee,Me),T)}(g.shapeFlag&256||Ee&&ri(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&d.a&&mt(d.a,T),d.isMounted=!0,g=_=v=null}},D=d.effect=new Iu(N,()=>Ru(A),d.scope),A=d.update=()=>D.run();A.id=d.uid,os(d,!0),A()},oe=(d,g,_)=>{g.component=d;const v=d.vnode.props;d.vnode=g,d.next=null,cb(d,g.props,v,_),hb(d,g.children,_),kr(),Rf(),Rr()},he=(d,g,_,v,T,O,P,N,D=!1)=>{const A=d&&d.children,j=d?d.shapeFlag:0,V=g.children,{patchFlag:B,shapeFlag:W}=g;if(B>0){if(B&128){Nt(A,V,_,v,T,O,P,N,D);return}else if(B&256){Ue(A,V,_,v,T,O,P,N,D);return}}W&8?(j&16&&M(A,T,O),V!==A&&u(_,V)):j&16?W&16?Nt(A,V,_,v,T,O,P,N,D):M(A,T,O,!0):(j&8&&u(_,""),W&16&&_e(V,_,v,T,O,P,N,D))},Ue=(d,g,_,v,T,O,P,N,D)=>{d=d||Js,g=g||Js;const A=d.length,j=g.length,V=Math.min(A,j);let B;for(B=0;B<V;B++){const W=g[B]=D?Rn(g[B]):Qt(g[B]);y(d[B],W,_,null,T,O,P,N,D)}A>j?M(d,T,O,!0,!1,V):_e(g,_,v,T,O,P,N,D,V)},Nt=(d,g,_,v,T,O,P,N,D)=>{let A=0;const j=g.length;let V=d.length-1,B=j-1;for(;A<=V&&A<=B;){const W=d[A],re=g[A]=D?Rn(g[A]):Qt(g[A]);if(zr(W,re))y(W,re,_,null,T,O,P,N,D);else break;A++}for(;A<=V&&A<=B;){const W=d[V],re=g[B]=D?Rn(g[B]):Qt(g[B]);if(zr(W,re))y(W,re,_,null,T,O,P,N,D);else break;V--,B--}if(A>V){if(A<=B){const W=B+1,re=W<j?g[W].el:v;for(;A<=B;)y(null,g[A]=D?Rn(g[A]):Qt(g[A]),_,re,T,O,P,N,D),A++}}else if(A>B)for(;A<=V;)xe(d[A],T,O,!0),A++;else{const W=A,re=A,Ee=new Map;for(A=re;A<=B;A++){const bt=g[A]=D?Rn(g[A]):Qt(g[A]);bt.key!=null&&Ee.set(bt.key,A)}let pe,Me=0;const Pt=B-re+1;let Vs=!1,wf=0;const qr=new Array(Pt);for(A=0;A<Pt;A++)qr[A]=0;for(A=W;A<=V;A++){const bt=d[A];if(Me>=Pt){xe(bt,T,O,!0);continue}let Wt;if(bt.key!=null)Wt=Ee.get(bt.key);else for(pe=re;pe<=B;pe++)if(qr[pe-re]===0&&zr(bt,g[pe])){Wt=pe;break}Wt===void 0?xe(bt,T,O,!0):(qr[Wt-re]=A+1,Wt>=wf?wf=Wt:Vs=!0,y(bt,g[Wt],_,null,T,O,P,N,D),Me++)}const bf=Vs?mb(qr):Js;for(pe=bf.length-1,A=Pt-1;A>=0;A--){const bt=re+A,Wt=g[bt],Tf=bt+1<j?g[bt+1].el:v;qr[A]===0?y(null,Wt,_,Tf,T,O,P,N,D):Vs&&(pe<0||A!==bf[pe]?lt(Wt,_,Tf,2):pe--)}}},lt=(d,g,_,v,T=null)=>{const{el:O,type:P,transition:N,children:D,shapeFlag:A}=d;if(A&6){lt(d.component.subTree,g,_,v);return}if(A&128){d.suspense.move(g,_,v);return}if(A&64){P.move(d,g,_,ae);return}if(P===yt){s(O,g,_);for(let V=0;V<D.length;V++)lt(D[V],g,_,v);s(d.anchor,g,_);return}if(P===Ho){R(d,g,_);return}if(v!==2&&A&1&&N)if(v===0)N.beforeEnter(O),s(O,g,_),mt(()=>N.enter(O),T);else{const{leave:V,delayLeave:B,afterLeave:W}=N,re=()=>s(O,g,_),Ee=()=>{V(O,()=>{re(),W&&W()})};B?B(O,re,Ee):Ee()}else s(O,g,_)},xe=(d,g,_,v=!1,T=!1)=>{const{type:O,props:P,ref:N,children:D,dynamicChildren:A,shapeFlag:j,patchFlag:V,dirs:B}=d;if(N!=null&&Cl(N,null,_,d,!0),j&256){g.ctx.deactivate(d);return}const W=j&1&&B,re=!ri(d);let Ee;if(re&&(Ee=P&&P.onVnodeBeforeUnmount)&&Gt(Ee,g,d),j&6)E(d.component,_,v);else{if(j&128){d.suspense.unmount(_,v);return}W&&is(d,null,g,"beforeUnmount"),j&64?d.type.remove(d,g,_,T,ae,v):A&&(O!==yt||V>0&&V&64)?M(A,g,_,!1,!0):(O===yt&&V&384||!T&&j&16)&&M(D,g,_),v&&xt(d)}(re&&(Ee=P&&P.onVnodeUnmounted)||W)&&mt(()=>{Ee&&Gt(Ee,g,d),W&&is(d,null,g,"unmounted")},_)},xt=d=>{const{type:g,el:_,anchor:v,transition:T}=d;if(g===yt){Mt(_,v);return}if(g===Ho){x(d);return}const O=()=>{r(_),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(d.shapeFlag&1&&T&&!T.persisted){const{leave:P,delayLeave:N}=T,D=()=>P(_,O);N?N(d.el,O,D):D()}else O()},Mt=(d,g)=>{let _;for(;d!==g;)_=f(d),r(d),d=_;r(g)},E=(d,g,_)=>{const{bum:v,scope:T,update:O,subTree:P,um:N}=d;v&&Lc(v),T.stop(),O&&(O.active=!1,xe(P,d,g,_)),N&&mt(N,g),mt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},M=(d,g,_,v=!1,T=!1,O=0)=>{for(let P=O;P<d.length;P++)xe(d[P],g,_,v,T)},L=d=>d.shapeFlag&6?L(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),U=(d,g,_)=>{d==null?g._vnode&&xe(g._vnode,null,null,!0):y(g._vnode||null,d,g,null,null,null,_),Rf(),Kg(),g._vnode=d},ae={p:y,um:xe,m:lt,r:xt,mt:ct,mc:_e,pc:he,pbc:de,n:L,o:t};let Se,Z;return e&&([Se,Z]=e(ae)),{render:U,hydrate:Se,createApp:db(U,Se)}}function os({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function um(t,e,n=!1){const s=t.children,r=e.children;if(ee(s)&&ee(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Rn(r[i]),a.el=o.el),n||um(o,a)),a.type===Fa&&(a.el=o.el)}}function mb(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const yb=t=>t.__isTeleport,yt=Symbol(void 0),Fa=Symbol(void 0),Kn=Symbol(void 0),Ho=Symbol(void 0),oi=[];let Vt=null;function Ke(t=!1){oi.push(Vt=t?null:[])}function _b(){oi.pop(),Vt=oi[oi.length-1]||null}let wi=1;function Ff(t){wi+=t}function hm(t){return t.dynamicChildren=wi>0?Vt||Js:null,_b(),wi>0&&Vt&&Vt.push(t),t}function ht(t,e,n,s,r,i){return hm(X(t,e,n,s,r,i,!0))}function Mu(t,e,n,s,r){return hm(Te(t,e,n,s,r,!0))}function oa(t){return t?t.__v_isVNode===!0:!1}function zr(t,e){return t.type===e.type&&t.key===e.key}const Ba="__vInternal",fm=({key:t})=>t??null,qo=({ref:t,ref_key:e,ref_for:n})=>t!=null?je(t)||st(t)||ie(t)?{i:vt,r:t,k:e,f:!!n}:t:null;function X(t,e=null,n=null,s=0,r=null,i=t===yt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&fm(e),ref:e&&qo(e),scopeId:Yg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:vt};return a?(Pu(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=je(n)?8:16),wi>0&&!o&&Vt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vt.push(c),c}const Te=vb;function vb(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Zw)&&(t=Kn),oa(t)){const a=lr(t,e,!0);return n&&Pu(a,n),wi>0&&!i&&Vt&&(a.shapeFlag&6?Vt[Vt.indexOf(t)]=a:Vt.push(a)),a.patchFlag|=-2,a}if(Ob(t)&&(t=t.__vccOpts),e){e=Eb(e);let{class:a,style:c}=e;a&&!je(a)&&(e.class=mi(a)),De(c)&&(Pg(c)&&!ee(c)&&(c=gt({},c)),e.style=_u(c))}const o=je(t)?1:Vw(t)?128:yb(t)?64:De(t)?4:ie(t)?2:0;return X(t,e,n,s,r,o,i,!0)}function Eb(t){return t?Pg(t)||Ba in t?gt({},t):t:null}function lr(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?wb(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&fm(a),ref:e&&e.ref?n&&r?ee(r)?r.concat(qo(e)):[r,qo(e)]:qo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&lr(t.ssContent),ssFallback:t.ssFallback&&lr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function we(t=" ",e=0){return Te(Fa,null,t,e)}function dm(t,e){const n=Te(Ho,null,t);return n.staticCount=e,n}function Bf(t="",e=!1){return e?(Ke(),Mu(Kn,null,t)):Te(Kn,null,t)}function Qt(t){return t==null||typeof t=="boolean"?Te(Kn):ee(t)?Te(yt,null,t.slice()):typeof t=="object"?Rn(t):Te(Fa,null,String(t))}function Rn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:lr(t)}function Pu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Pu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Ba in e)?e._ctx=vt:r===3&&vt&&(vt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:vt},n=32):(e=String(e),s&64?(n=16,e=[we(e)]):n=8);t.children=e,t.shapeFlag|=n}function wb(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=mi([e.class,s.class]));else if(r==="style")e.style=_u([e.style,s.style]);else if(La(r)){const i=e[r],o=s[r];o&&i!==o&&!(ee(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Gt(t,e,n,s=null){Ft(t,e,7,[n,s])}const bb=lm();let Tb=0;function Ib(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||bb,i={uid:Tb++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ig(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:im(s,r),emitsOptions:Gg(s,r),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:s.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Lw.bind(null,i),t.ce&&t.ce(i),i}let tt=null;const ur=t=>{tt=t,t.scope.on()},_s=()=>{tt&&tt.scope.off(),tt=null};function pm(t){return t.vnode.shapeFlag&4}let bi=!1;function Ab(t,e=!1){bi=e;const{props:n,children:s}=t.vnode,r=pm(t);ab(t,n,r,e),ub(t,s);const i=r?Sb(t,e):void 0;return bi=!1,i}function Sb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ou(new Proxy(t.ctx,tb));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Nb(t):null;ur(t),kr();const i=Un(s,t,0,[t.props,r]);if(Rr(),_s(),vg(i)){if(i.then(_s,_s),e)return i.then(o=>{jf(t,o,e)}).catch(o=>{$a(o,t,0)});t.asyncDep=i}else jf(t,i,e)}else gm(t,e)}function jf(t,e,n){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=Bg(e)),gm(t,n)}let Hf;function gm(t,e,n){const s=t.type;if(!t.render){if(!e&&Hf&&!s.render){const r=s.template||Lu(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=gt(gt({isCustomElement:i,delimiters:a},o),c);s.render=Hf(r,l)}}t.render=s.render||Ut}ur(t),kr(),nb(t),Rr(),_s()}function Cb(t){return new Proxy(t.attrs,{get(e,n){return It(t,"get","$attrs"),e[n]}})}function Nb(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Cb(t))},slots:t.slots,emit:t.emit,expose:e}}function $u(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Bg(Ou(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ii)return ii[n](t)},has(e,n){return n in e||n in ii}}))}function Ob(t){return ie(t)&&"__vccOpts"in t}const Ot=(t,e)=>Cw(t,e,bi);function mm(t,e,n){const s=arguments.length;return s===2?De(e)&&!ee(e)?oa(e)?Te(t,null,[e]):Te(t,e):Te(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&oa(n)&&(n=[n]),Te(t,e,n))}const Db=Symbol(""),kb=()=>pn(Db),Rb="3.2.45",Lb="http://www.w3.org/2000/svg",us=typeof document<"u"?document:null,qf=us&&us.createElement("template"),xb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?us.createElementNS(Lb,t):us.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>us.createTextNode(t),createComment:t=>us.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>us.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{qf.innerHTML=s?`<svg>${t}</svg>`:t;const a=qf.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Mb(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Pb(t,e,n){const s=t.style,r=je(n);if(n&&!r){for(const i in n)Nl(s,i,n[i]);if(e&&!je(e))for(const i in e)n[i]==null&&Nl(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const zf=/\s*!important$/;function Nl(t,e,n){if(ee(n))n.forEach(s=>Nl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=$b(t,e);zf.test(n)?t.setProperty(Dr(s),n.replace(zf,""),"important"):t[s]=n}}const Kf=["Webkit","Moz","ms"],$c={};function $b(t,e){const n=$c[e];if(n)return n;let s=ar(e);if(s!=="filter"&&s in t)return $c[e]=s;s=bg(s);for(let r=0;r<Kf.length;r++){const i=Kf[r]+s;if(i in t)return $c[e]=i}return e}const Wf="http://www.w3.org/1999/xlink";function Vb(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Wf,e.slice(6,e.length)):t.setAttributeNS(Wf,e,n);else{const i=BE(e);n==null||i&&!mg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Ub(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=mg(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Fb(t,e,n,s){t.addEventListener(e,n,s)}function Bb(t,e,n,s){t.removeEventListener(e,n,s)}function jb(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Hb(e);if(s){const l=i[e]=Kb(s,r);Fb(t,a,l,c)}else o&&(Bb(t,a,o,c),i[e]=void 0)}}const Gf=/(?:Once|Passive|Capture)$/;function Hb(t){let e;if(Gf.test(t)){e={};let s;for(;s=t.match(Gf);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Dr(t.slice(2)),e]}let Vc=0;const qb=Promise.resolve(),zb=()=>Vc||(qb.then(()=>Vc=0),Vc=Date.now());function Kb(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ft(Wb(s,n.value),e,5,[s])};return n.value=t,n.attached=zb(),n}function Wb(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Yf=/^on[a-z]/,Gb=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?Mb(t,s,r):e==="style"?Pb(t,n,s):La(e)?vu(e)||jb(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yb(t,e,s,r))?Ub(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Vb(t,e,s,r))};function Yb(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Yf.test(e)&&ie(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Yf.test(e)&&je(n)?!1:e in t}const Qb=["ctrl","shift","alt","meta"],Xb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Qb.some(n=>t[`${n}Key`]&&!e.includes(n))},Vu=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=Xb[e[r]];if(i&&i(n,e))return}return t(n,...s)},Jb=gt({patchProp:Gb},xb);let Qf;function Zb(){return Qf||(Qf=pb(Jb))}const eT=(...t)=>{const e=Zb().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=tT(s);if(!r)return;const i=e._component;!ie(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function tT(t){return je(t)?document.querySelector(t):t}var nT=!1;/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const sT=Symbol();var Xf;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xf||(Xf={}));function rT(){const t=YE(!0),e=t.run(()=>Ug({}));let n=[],s=[];const r=Ou({install(i){r._a=i,i.provide(sT,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!nT?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const js=typeof window<"u";function iT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const be=Object.assign;function Uc(t,e){const n={};for(const s in e){const r=e[s];n[s]=jt(r)?r.map(t):t(r)}return n}const ai=()=>{},jt=Array.isArray,oT=/\/$/,aT=t=>t.replace(oT,"");function Fc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=hT(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function cT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Jf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lT(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&hr(e.matched[s],n.matched[r])&&ym(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function hr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ym(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uT(t[n],e[n]))return!1;return!0}function uT(t,e){return jt(t)?Zf(t,e):jt(e)?Zf(e,t):t===e}function Zf(t,e){return jt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function hT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Ti;(function(t){t.pop="pop",t.push="push"})(Ti||(Ti={}));var ci;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ci||(ci={}));function fT(t){if(!t)if(js){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),aT(t)}const dT=/^[^#]+#/;function pT(t,e){return t.replace(dT,"#")+e}function gT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ja=()=>({left:window.pageXOffset,top:window.pageYOffset});function mT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=gT(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ed(t,e){return(history.state?history.state.position-e:-1)+t}const Ol=new Map;function yT(t,e){Ol.set(t,e)}function _T(t){const e=Ol.get(t);return Ol.delete(t),e}let vT=()=>location.protocol+"//"+location.host;function _m(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Jf(c,"")}return Jf(n,t)+s+r}function ET(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=_m(t,location),m=n.value,y=e.value;let w=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}w=y?f.position-y.position:0}else s(p);r.forEach(I=>{I(n.value,m,{delta:w,type:Ti.pop,direction:w?w>0?ci.forward:ci.back:ci.unknown})})};function c(){o=n.value}function l(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(be({},f.state,{scroll:ja()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function td(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ja():null}}function wT(t){const{history:e,location:n}=window,s={value:_m(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:vT()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(c,l){const u=be({},e.state,td(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=be({},r.value,e.state,{forward:c,scroll:ja()});i(u.current,u,!0);const h=be({},td(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function bT(t){t=fT(t);const e=wT(t),n=ET(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=be({location:"",base:t,go:s,createHref:pT.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function TT(t){return typeof t=="string"||t&&typeof t=="object"}function vm(t){return typeof t=="string"||typeof t=="symbol"}const On={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Em=Symbol("");var nd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(nd||(nd={}));function fr(t,e){return be(new Error,{type:t,[Em]:!0},e)}function cn(t,e){return t instanceof Error&&Em in t&&(e==null||!!(t.type&e))}const sd="[^/]+?",IT={sensitive:!1,strict:!1,start:!0,end:!0},AT=/[.+*?^${}()[\]/\\]/g;function ST(t,e){const n=be({},IT,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(AT,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:y,optional:w,regexp:I}=f;i.push({name:m,repeatable:y,optional:w});const k=I||sd;if(k!==sd){p+=10;try{new RegExp(`(${k})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${m}" (${k}): `+x.message)}}let R=y?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(R=w&&l.length<2?`(?:/${R})`:"/"+R),w&&(R+="?"),r+=R,p+=20,w&&(p+=-8),y&&(p+=-20),k===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:y,optional:w}=p,I=m in l?l[m]:"";if(jt(I)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const k=jt(I)?I.join("/"):I;if(!k)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=k}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function CT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function NT(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=CT(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(rd(s))return 1;if(rd(r))return-1}return r.length-s.length}function rd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const OT={type:0,value:""},DT=/[a-zA-Z0-9_]/;function kT(t){if(!t)return[[]];if(t==="/")return[[OT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:DT.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function RT(t,e,n){const s=ST(kT(t.path),n),r=be(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function LT(t,e){const n=[],s=new Map;e=ad({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=xT(u);m.aliasOf=f&&f.record;const y=ad(e,u),w=[m];if("alias"in u){const R=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of R)w.push(be({},m,{components:f?f.record.components:m.components,path:x,aliasOf:f?f.record:m}))}let I,k;for(const R of w){const{path:x}=R;if(h&&x[0]!=="/"){const z=h.record.path,K=z[z.length-1]==="/"?"":"/";R.path=h.record.path+(x&&K+x)}if(I=RT(R,h,y),f?f.alias.push(I):(k=k||I,k!==I&&k.alias.push(I),p&&u.name&&!od(I)&&o(u.name)),m.children){const z=m.children;for(let K=0;K<z.length;K++)i(z[K],I,f&&f.children[K])}f=f||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&c(I)}return k?()=>{o(k)}:ai}function o(u){if(vm(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&NT(u,n[h])>=0&&(u.record.path!==n[h].record.path||!wm(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!od(u)&&s.set(u.record.name,u)}function l(u,h){let f,p={},m,y;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw fr(1,{location:u});y=f.record.name,p=be(id(h.params,f.keys.filter(k=>!k.optional).map(k=>k.name)),u.params&&id(u.params,f.keys.map(k=>k.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(k=>k.re.test(m)),f&&(p=f.parse(m),y=f.record.name);else{if(f=h.name?s.get(h.name):n.find(k=>k.re.test(h.path)),!f)throw fr(1,{location:u,currentLocation:h});y=f.record.name,p=be({},h.params,u.params),m=f.stringify(p)}const w=[];let I=f;for(;I;)w.unshift(I.record),I=I.parent;return{name:y,path:m,params:p,matched:w,meta:PT(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function id(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function xT(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:MT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function MT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function od(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function PT(t){return t.reduce((e,n)=>be(e,n.meta),{})}function ad(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function wm(t,e){return e.children.some(n=>n===t||wm(t,n))}const bm=/#/g,$T=/&/g,VT=/\//g,UT=/=/g,FT=/\?/g,Tm=/\+/g,BT=/%5B/g,jT=/%5D/g,Im=/%5E/g,HT=/%60/g,Am=/%7B/g,qT=/%7C/g,Sm=/%7D/g,zT=/%20/g;function Uu(t){return encodeURI(""+t).replace(qT,"|").replace(BT,"[").replace(jT,"]")}function KT(t){return Uu(t).replace(Am,"{").replace(Sm,"}").replace(Im,"^")}function Dl(t){return Uu(t).replace(Tm,"%2B").replace(zT,"+").replace(bm,"%23").replace($T,"%26").replace(HT,"`").replace(Am,"{").replace(Sm,"}").replace(Im,"^")}function WT(t){return Dl(t).replace(UT,"%3D")}function GT(t){return Uu(t).replace(bm,"%23").replace(FT,"%3F")}function YT(t){return t==null?"":GT(t).replace(VT,"%2F")}function aa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function QT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Tm," "),o=i.indexOf("="),a=aa(o<0?i:i.slice(0,o)),c=o<0?null:aa(i.slice(o+1));if(a in e){let l=e[a];jt(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function cd(t){let e="";for(let n in t){const s=t[n];if(n=WT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(jt(s)?s.map(i=>i&&Dl(i)):[s&&Dl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function XT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=jt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const JT=Symbol(""),ld=Symbol(""),Fu=Symbol(""),Cm=Symbol(""),kl=Symbol("");function Kr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Ln(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(fr(4,{from:n,to:e})):h instanceof Error?a(h):TT(h)?a(fr(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function Bc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(ZT(a)){const l=(a.__vccOpts||a)[e];l&&r.push(Ln(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=iT(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&Ln(f,n,s,i,o)()}))}}return r}function ZT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ud(t){const e=pn(Fu),n=pn(Cm),s=Ot(()=>e.resolve(ys(t.to))),r=Ot(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(hr.bind(null,u));if(f>-1)return f;const p=hd(c[l-2]);return l>1&&hd(u)===p&&h[h.length-1].path!==p?h.findIndex(hr.bind(null,c[l-2])):f}),i=Ot(()=>r.value>-1&&s0(n.params,s.value.params)),o=Ot(()=>r.value>-1&&r.value===n.matched.length-1&&ym(n.params,s.value.params));function a(c={}){return n0(c)?e[ys(t.replace)?"replace":"push"](ys(t.to)).catch(ai):Promise.resolve()}return{route:s,href:Ot(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const e0=Jg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ud,setup(t,{slots:e}){const n=Bi(ud(t)),{options:s}=pn(Fu),r=Ot(()=>({[fd(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[fd(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:mm("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),t0=e0;function n0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function s0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!jt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function hd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fd=(t,e,n)=>t??e??n,r0=Jg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=pn(kl),r=Ot(()=>t.route||s.value),i=pn(ld,0),o=Ot(()=>{let l=ys(i);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Ot(()=>r.value.matched[o.value]);Bo(ld,Ot(()=>o.value+1)),Bo(JT,a),Bo(kl,r);const c=Ug();return jo(()=>[c.value,a.value,t.name],([l,u,h],[f,p,m])=>{u&&(u.instances[h]=l,p&&p!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!hr(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return dd(n.default,{Component:f,route:l});const p=h.props[u],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,w=mm(f,be({},m,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return dd(n.default,{Component:w,route:l})||w}}});function dd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Nm=r0;function i0(t){const e=LT(t.routes,t),n=t.parseQuery||QT,s=t.stringifyQuery||cd,r=t.history,i=Kr(),o=Kr(),a=Kr(),c=Tw(On);let l=On;js&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Uc.bind(null,E=>""+E),h=Uc.bind(null,YT),f=Uc.bind(null,aa);function p(E,M){let L,U;return vm(E)?(L=e.getRecordMatcher(E),U=M):U=E,e.addRoute(U,L)}function m(E){const M=e.getRecordMatcher(E);M&&e.removeRoute(M)}function y(){return e.getRoutes().map(E=>E.record)}function w(E){return!!e.getRecordMatcher(E)}function I(E,M){if(M=be({},M||c.value),typeof E=="string"){const d=Fc(n,E,M.path),g=e.resolve({path:d.path},M),_=r.createHref(d.fullPath);return be(d,g,{params:f(g.params),hash:aa(d.hash),redirectedFrom:void 0,href:_})}let L;if("path"in E)L=be({},E,{path:Fc(n,E.path,M.path).path});else{const d=be({},E.params);for(const g in d)d[g]==null&&delete d[g];L=be({},E,{params:h(E.params)}),M.params=h(M.params)}const U=e.resolve(L,M),ae=E.hash||"";U.params=u(f(U.params));const Se=cT(s,be({},E,{hash:KT(ae),path:U.path})),Z=r.createHref(Se);return be({fullPath:Se,hash:ae,query:s===cd?XT(E.query):E.query||{}},U,{redirectedFrom:void 0,href:Z})}function k(E){return typeof E=="string"?Fc(n,E,c.value.path):be({},E)}function R(E,M){if(l!==E)return fr(8,{from:M,to:E})}function x(E){return se(E)}function z(E){return x(be(k(E),{replace:!0}))}function K(E){const M=E.matched[E.matched.length-1];if(M&&M.redirect){const{redirect:L}=M;let U=typeof L=="function"?L(E):L;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=k(U):{path:U},U.params={}),be({query:E.query,hash:E.hash,params:"path"in U?{}:E.params},U)}}function se(E,M){const L=l=I(E),U=c.value,ae=E.state,Se=E.force,Z=E.replace===!0,d=K(L);if(d)return se(be(k(d),{state:typeof d=="object"?be({},ae,d.state):ae,force:Se,replace:Z}),M||L);const g=L;g.redirectedFrom=M;let _;return!Se&&lT(s,U,L)&&(_=fr(16,{to:g,from:U}),Nt(U,U,!0,!1)),(_?Promise.resolve(_):ve(g,U)).catch(v=>cn(v)?cn(v,2)?v:Ue(v):oe(v,g,U)).then(v=>{if(v){if(cn(v,2))return se(be({replace:Z},k(v.to),{state:typeof v.to=="object"?be({},ae,v.to.state):ae,force:Se}),M||g)}else v=Ae(g,U,!0,Z,ae);return de(g,U,v),v})}function _e(E,M){const L=R(E,M);return L?Promise.reject(L):Promise.resolve()}function ve(E,M){let L;const[U,ae,Se]=o0(E,M);L=Bc(U.reverse(),"beforeRouteLeave",E,M);for(const d of U)d.leaveGuards.forEach(g=>{L.push(Ln(g,E,M))});const Z=_e.bind(null,E,M);return L.push(Z),Us(L).then(()=>{L=[];for(const d of i.list())L.push(Ln(d,E,M));return L.push(Z),Us(L)}).then(()=>{L=Bc(ae,"beforeRouteUpdate",E,M);for(const d of ae)d.updateGuards.forEach(g=>{L.push(Ln(g,E,M))});return L.push(Z),Us(L)}).then(()=>{L=[];for(const d of E.matched)if(d.beforeEnter&&!M.matched.includes(d))if(jt(d.beforeEnter))for(const g of d.beforeEnter)L.push(Ln(g,E,M));else L.push(Ln(d.beforeEnter,E,M));return L.push(Z),Us(L)}).then(()=>(E.matched.forEach(d=>d.enterCallbacks={}),L=Bc(Se,"beforeRouteEnter",E,M),L.push(Z),Us(L))).then(()=>{L=[];for(const d of o.list())L.push(Ln(d,E,M));return L.push(Z),Us(L)}).catch(d=>cn(d,8)?d:Promise.reject(d))}function de(E,M,L){for(const U of a.list())U(E,M,L)}function Ae(E,M,L,U,ae){const Se=R(E,M);if(Se)return Se;const Z=M===On,d=js?history.state:{};L&&(U||Z?r.replace(E.fullPath,be({scroll:Z&&d&&d.scroll},ae)):r.push(E.fullPath,ae)),c.value=E,Nt(E,M,L,Z),Ue()}let ke;function Re(){ke||(ke=r.listen((E,M,L)=>{if(!Mt.listening)return;const U=I(E),ae=K(U);if(ae){se(be(ae,{replace:!0}),U).catch(ai);return}l=U;const Se=c.value;js&&yT(ed(Se.fullPath,L.delta),ja()),ve(U,Se).catch(Z=>cn(Z,12)?Z:cn(Z,2)?(se(Z.to,U).then(d=>{cn(d,20)&&!L.delta&&L.type===Ti.pop&&r.go(-1,!1)}).catch(ai),Promise.reject()):(L.delta&&r.go(-L.delta,!1),oe(Z,U,Se))).then(Z=>{Z=Z||Ae(U,Se,!1),Z&&(L.delta&&!cn(Z,8)?r.go(-L.delta,!1):L.type===Ti.pop&&cn(Z,20)&&r.go(-1,!1)),de(U,Se,Z)}).catch(ai)}))}let ct=Kr(),wt=Kr(),le;function oe(E,M,L){Ue(E);const U=wt.list();return U.length?U.forEach(ae=>ae(E,M,L)):console.error(E),Promise.reject(E)}function he(){return le&&c.value!==On?Promise.resolve():new Promise((E,M)=>{ct.add([E,M])})}function Ue(E){return le||(le=!E,Re(),ct.list().forEach(([M,L])=>E?L(E):M()),ct.reset()),E}function Nt(E,M,L,U){const{scrollBehavior:ae}=t;if(!js||!ae)return Promise.resolve();const Se=!L&&_T(ed(E.fullPath,0))||(U||!L)&&history.state&&history.state.scroll||null;return qg().then(()=>ae(E,M,Se)).then(Z=>Z&&mT(Z)).catch(Z=>oe(Z,E,M))}const lt=E=>r.go(E);let xe;const xt=new Set,Mt={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,hasRoute:w,getRoutes:y,resolve:I,options:t,push:x,replace:z,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:wt.add,isReady:he,install(E){const M=this;E.component("RouterLink",t0),E.component("RouterView",Nm),E.config.globalProperties.$router=M,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>ys(c)}),js&&!xe&&c.value===On&&(xe=!0,x(r.location).catch(ae=>{}));const L={};for(const ae in On)L[ae]=Ot(()=>c.value[ae]);E.provide(Fu,M),E.provide(Cm,Bi(L)),E.provide(kl,c);const U=E.unmount;xt.add(E),E.unmount=function(){xt.delete(E),xt.size<1&&(l=On,ke&&ke(),ke=null,c.value=On,xe=!1,le=!1),U()}}};return Mt}function Us(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function o0(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>hr(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>hr(l,c))||r.push(c))}return[n,s,r]}var dt="top",At="bottom",St="right",pt="left",Ha="auto",Lr=[dt,At,St,pt],Is="start",dr="end",Om="clippingParents",Bu="viewport",Hs="popper",Dm="reference",Rl=Lr.reduce(function(t,e){return t.concat([e+"-"+Is,e+"-"+dr])},[]),ju=[].concat(Lr,[Ha]).reduce(function(t,e){return t.concat([e,e+"-"+Is,e+"-"+dr])},[]),km="beforeRead",Rm="read",Lm="afterRead",xm="beforeMain",Mm="main",Pm="afterMain",$m="beforeWrite",Vm="write",Um="afterWrite",Fm=[km,Rm,Lm,xm,Mm,Pm,$m,Vm,Um];function rn(t){return t?(t.nodeName||"").toLowerCase():null}function Rt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function As(t){var e=Rt(t).Element;return t instanceof e||t instanceof Element}function Dt(t){var e=Rt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hu(t){if(typeof ShadowRoot>"u")return!1;var e=Rt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function a0(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!Dt(i)||!rn(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function c0(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(c,l){return c[l]="",c},{});!Dt(r)||!rn(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const qu={name:"applyStyles",enabled:!0,phase:"write",fn:a0,effect:c0,requires:["computeStyles"]};function Zt(t){return t.split("-")[0]}var vs=Math.max,ca=Math.min,pr=Math.round;function Ll(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Bm(){return!/^((?!chrome|android).)*safari/i.test(Ll())}function gr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&Dt(t)&&(r=t.offsetWidth>0&&pr(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&pr(s.height)/t.offsetHeight||1);var o=As(t)?Rt(t):window,a=o.visualViewport,c=!Bm()&&n,l=(s.left+(c&&a?a.offsetLeft:0))/r,u=(s.top+(c&&a?a.offsetTop:0))/i,h=s.width/r,f=s.height/i;return{width:h,height:f,top:u,right:l+h,bottom:u+f,left:l,x:l,y:u}}function zu(t){var e=gr(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function jm(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Hu(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function vn(t){return Rt(t).getComputedStyle(t)}function l0(t){return["table","td","th"].indexOf(rn(t))>=0}function Zn(t){return((As(t)?t.ownerDocument:t.document)||window.document).documentElement}function qa(t){return rn(t)==="html"?t:t.assignedSlot||t.parentNode||(Hu(t)?t.host:null)||Zn(t)}function pd(t){return!Dt(t)||vn(t).position==="fixed"?null:t.offsetParent}function u0(t){var e=/firefox/i.test(Ll()),n=/Trident/i.test(Ll());if(n&&Dt(t)){var s=vn(t);if(s.position==="fixed")return null}var r=qa(t);for(Hu(r)&&(r=r.host);Dt(r)&&["html","body"].indexOf(rn(r))<0;){var i=vn(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function ji(t){for(var e=Rt(t),n=pd(t);n&&l0(n)&&vn(n).position==="static";)n=pd(n);return n&&(rn(n)==="html"||rn(n)==="body"&&vn(n).position==="static")?e:n||u0(t)||e}function Ku(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function li(t,e,n){return vs(t,ca(e,n))}function h0(t,e,n){var s=li(t,e,n);return s>n?n:s}function Hm(){return{top:0,right:0,bottom:0,left:0}}function qm(t){return Object.assign({},Hm(),t)}function zm(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var f0=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,qm(typeof e!="number"?e:zm(e,Lr))};function d0(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Zt(n.placement),c=Ku(a),l=[pt,St].indexOf(a)>=0,u=l?"height":"width";if(!(!i||!o)){var h=f0(r.padding,n),f=zu(i),p=c==="y"?dt:pt,m=c==="y"?At:St,y=n.rects.reference[u]+n.rects.reference[c]-o[c]-n.rects.popper[u],w=o[c]-n.rects.reference[c],I=ji(i),k=I?c==="y"?I.clientHeight||0:I.clientWidth||0:0,R=y/2-w/2,x=h[p],z=k-f[u]-h[m],K=k/2-f[u]/2+R,se=li(x,K,z),_e=c;n.modifiersData[s]=(e={},e[_e]=se,e.centerOffset=se-K,e)}}function p0(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||jm(e.elements.popper,r)&&(e.elements.arrow=r))}const Km={name:"arrow",enabled:!0,phase:"main",fn:d0,effect:p0,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mr(t){return t.split("-")[1]}var g0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function m0(t){var e=t.x,n=t.y,s=window,r=s.devicePixelRatio||1;return{x:pr(e*r)/r||0,y:pr(n*r)/r||0}}function gd(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,y=m===void 0?0:m,w=typeof u=="function"?u({x:p,y}):{x:p,y};p=w.x,y=w.y;var I=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),R=pt,x=dt,z=window;if(l){var K=ji(n),se="clientHeight",_e="clientWidth";if(K===Rt(n)&&(K=Zn(n),vn(K).position!=="static"&&a==="absolute"&&(se="scrollHeight",_e="scrollWidth")),K=K,r===dt||(r===pt||r===St)&&i===dr){x=At;var ve=h&&K===z&&z.visualViewport?z.visualViewport.height:K[se];y-=ve-s.height,y*=c?1:-1}if(r===pt||(r===dt||r===At)&&i===dr){R=St;var de=h&&K===z&&z.visualViewport?z.visualViewport.width:K[_e];p-=de-s.width,p*=c?1:-1}}var Ae=Object.assign({position:a},l&&g0),ke=u===!0?m0({x:p,y}):{x:p,y};if(p=ke.x,y=ke.y,c){var Re;return Object.assign({},Ae,(Re={},Re[x]=k?"0":"",Re[R]=I?"0":"",Re.transform=(z.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",Re))}return Object.assign({},Ae,(e={},e[x]=k?y+"px":"",e[R]=I?p+"px":"",e.transform="",e))}function y0(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Zt(e.placement),variation:mr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gd(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gd(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Wu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y0,data:{}};var So={passive:!0};function _0(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,c=Rt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(u){u.addEventListener("scroll",n.update,So)}),a&&c.addEventListener("resize",n.update,So),function(){i&&l.forEach(function(u){u.removeEventListener("scroll",n.update,So)}),a&&c.removeEventListener("resize",n.update,So)}}const Gu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_0,data:{}};var v0={left:"right",right:"left",bottom:"top",top:"bottom"};function zo(t){return t.replace(/left|right|bottom|top/g,function(e){return v0[e]})}var E0={start:"end",end:"start"};function md(t){return t.replace(/start|end/g,function(e){return E0[e]})}function Yu(t){var e=Rt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Qu(t){return gr(Zn(t)).left+Yu(t).scrollLeft}function w0(t,e){var n=Rt(t),s=Zn(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,c=0;if(r){i=r.width,o=r.height;var l=Bm();(l||!l&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:a+Qu(t),y:c}}function b0(t){var e,n=Zn(t),s=Yu(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=vs(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=vs(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+Qu(t),c=-s.scrollTop;return vn(r||n).direction==="rtl"&&(a+=vs(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function Xu(t){var e=vn(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Wm(t){return["html","body","#document"].indexOf(rn(t))>=0?t.ownerDocument.body:Dt(t)&&Xu(t)?t:Wm(qa(t))}function ui(t,e){var n;e===void 0&&(e=[]);var s=Wm(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=Rt(s),o=r?[i].concat(i.visualViewport||[],Xu(s)?s:[]):s,a=e.concat(o);return r?a:a.concat(ui(qa(o)))}function xl(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function T0(t,e){var n=gr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function yd(t,e,n){return e===Bu?xl(w0(t,n)):As(e)?T0(e,n):xl(b0(Zn(t)))}function I0(t){var e=ui(qa(t)),n=["absolute","fixed"].indexOf(vn(t).position)>=0,s=n&&Dt(t)?ji(t):t;return As(s)?e.filter(function(r){return As(r)&&jm(r,s)&&rn(r)!=="body"}):[]}function A0(t,e,n,s){var r=e==="clippingParents"?I0(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(c,l){var u=yd(t,l,s);return c.top=vs(u.top,c.top),c.right=ca(u.right,c.right),c.bottom=ca(u.bottom,c.bottom),c.left=vs(u.left,c.left),c},yd(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gm(t){var e=t.reference,n=t.element,s=t.placement,r=s?Zt(s):null,i=s?mr(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(r){case dt:c={x:o,y:e.y-n.height};break;case At:c={x:o,y:e.y+e.height};break;case St:c={x:e.x+e.width,y:a};break;case pt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=r?Ku(r):null;if(l!=null){var u=l==="y"?"height":"width";switch(i){case Is:c[l]=c[l]-(e[u]/2-n[u]/2);break;case dr:c[l]=c[l]+(e[u]/2-n[u]/2);break}}return c}function yr(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,c=a===void 0?Om:a,l=n.rootBoundary,u=l===void 0?Bu:l,h=n.elementContext,f=h===void 0?Hs:h,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,w=y===void 0?0:y,I=qm(typeof w!="number"?w:zm(w,Lr)),k=f===Hs?Dm:Hs,R=t.rects.popper,x=t.elements[m?k:f],z=A0(As(x)?x:x.contextElement||Zn(t.elements.popper),c,u,o),K=gr(t.elements.reference),se=Gm({reference:K,element:R,strategy:"absolute",placement:r}),_e=xl(Object.assign({},R,se)),ve=f===Hs?_e:K,de={top:z.top-ve.top+I.top,bottom:ve.bottom-z.bottom+I.bottom,left:z.left-ve.left+I.left,right:ve.right-z.right+I.right},Ae=t.modifiersData.offset;if(f===Hs&&Ae){var ke=Ae[r];Object.keys(de).forEach(function(Re){var ct=[St,At].indexOf(Re)>=0?1:-1,wt=[dt,At].indexOf(Re)>=0?"y":"x";de[Re]+=ke[wt]*ct})}return de}function S0(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?ju:c,u=mr(s),h=u?a?Rl:Rl.filter(function(m){return mr(m)===u}):Lr,f=h.filter(function(m){return l.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,y){return m[y]=yr(t,{placement:y,boundary:r,rootBoundary:i,padding:o})[Zt(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function C0(t){if(Zt(t)===Ha)return[];var e=zo(t);return[md(t),e,md(e)]}function N0(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,w=e.options.placement,I=Zt(w),k=I===w,R=c||(k||!m?[zo(w)]:C0(w)),x=[w].concat(R).reduce(function(Mt,E){return Mt.concat(Zt(E)===Ha?S0(e,{placement:E,boundary:u,rootBoundary:h,padding:l,flipVariations:m,allowedAutoPlacements:y}):E)},[]),z=e.rects.reference,K=e.rects.popper,se=new Map,_e=!0,ve=x[0],de=0;de<x.length;de++){var Ae=x[de],ke=Zt(Ae),Re=mr(Ae)===Is,ct=[dt,At].indexOf(ke)>=0,wt=ct?"width":"height",le=yr(e,{placement:Ae,boundary:u,rootBoundary:h,altBoundary:f,padding:l}),oe=ct?Re?St:pt:Re?At:dt;z[wt]>K[wt]&&(oe=zo(oe));var he=zo(oe),Ue=[];if(i&&Ue.push(le[ke]<=0),a&&Ue.push(le[oe]<=0,le[he]<=0),Ue.every(function(Mt){return Mt})){ve=Ae,_e=!1;break}se.set(Ae,Ue)}if(_e)for(var Nt=m?3:1,lt=function(E){var M=x.find(function(L){var U=se.get(L);if(U)return U.slice(0,E).every(function(ae){return ae})});if(M)return ve=M,"break"},xe=Nt;xe>0;xe--){var xt=lt(xe);if(xt==="break")break}e.placement!==ve&&(e.modifiersData[s]._skip=!0,e.placement=ve,e.reset=!0)}}const Ym={name:"flip",enabled:!0,phase:"main",fn:N0,requiresIfExists:["offset"],data:{_skip:!1}};function _d(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function vd(t){return[dt,St,At,pt].some(function(e){return t[e]>=0})}function O0(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=yr(e,{elementContext:"reference"}),a=yr(e,{altBoundary:!0}),c=_d(o,s),l=_d(a,r,i),u=vd(c),h=vd(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Qm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O0};function D0(t,e,n){var s=Zt(t),r=[pt,dt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[pt,St].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function k0(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=ju.reduce(function(u,h){return u[h]=D0(h,e.rects,i),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[s]=o}const Xm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:k0};function R0(t){var e=t.state,n=t.name;e.modifiersData[n]=Gm({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ju={name:"popperOffsets",enabled:!0,phase:"read",fn:R0,data:{}};function L0(t){return t==="x"?"y":"x"}function x0(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,y=m===void 0?0:m,w=yr(e,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),I=Zt(e.placement),k=mr(e.placement),R=!k,x=Ku(I),z=L0(x),K=e.modifiersData.popperOffsets,se=e.rects.reference,_e=e.rects.popper,ve=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,de=typeof ve=="number"?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),Ae=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ke={x:0,y:0};if(K){if(i){var Re,ct=x==="y"?dt:pt,wt=x==="y"?At:St,le=x==="y"?"height":"width",oe=K[x],he=oe+w[ct],Ue=oe-w[wt],Nt=p?-_e[le]/2:0,lt=k===Is?se[le]:_e[le],xe=k===Is?-_e[le]:-se[le],xt=e.elements.arrow,Mt=p&&xt?zu(xt):{width:0,height:0},E=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Hm(),M=E[ct],L=E[wt],U=li(0,se[le],Mt[le]),ae=R?se[le]/2-Nt-U-M-de.mainAxis:lt-U-M-de.mainAxis,Se=R?-se[le]/2+Nt+U+L+de.mainAxis:xe+U+L+de.mainAxis,Z=e.elements.arrow&&ji(e.elements.arrow),d=Z?x==="y"?Z.clientTop||0:Z.clientLeft||0:0,g=(Re=Ae==null?void 0:Ae[x])!=null?Re:0,_=oe+ae-g-d,v=oe+Se-g,T=li(p?ca(he,_):he,oe,p?vs(Ue,v):Ue);K[x]=T,ke[x]=T-oe}if(a){var O,P=x==="x"?dt:pt,N=x==="x"?At:St,D=K[z],A=z==="y"?"height":"width",j=D+w[P],V=D-w[N],B=[dt,pt].indexOf(I)!==-1,W=(O=Ae==null?void 0:Ae[z])!=null?O:0,re=B?j:D-se[A]-_e[A]-W+de.altAxis,Ee=B?D+se[A]+_e[A]-W-de.altAxis:V,pe=p&&B?h0(re,D,Ee):li(p?re:j,D,p?Ee:V);K[z]=pe,ke[z]=pe-D}e.modifiersData[s]=ke}}const Jm={name:"preventOverflow",enabled:!0,phase:"main",fn:x0,requiresIfExists:["offset"]};function M0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function P0(t){return t===Rt(t)||!Dt(t)?Yu(t):M0(t)}function $0(t){var e=t.getBoundingClientRect(),n=pr(e.width)/t.offsetWidth||1,s=pr(e.height)/t.offsetHeight||1;return n!==1||s!==1}function V0(t,e,n){n===void 0&&(n=!1);var s=Dt(e),r=Dt(e)&&$0(e),i=Zn(e),o=gr(t,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((rn(e)!=="body"||Xu(i))&&(a=P0(e)),Dt(e)?(c=gr(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Qu(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function U0(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&r(c)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function F0(t){var e=U0(t);return Fm.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function B0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function j0(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ed={placement:"bottom",modifiers:[],strategy:"absolute"};function wd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function za(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?Ed:r;return function(a,c,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ed,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(I){var k=typeof I=="function"?I(u.options):I;y(),u.options=Object.assign({},i,u.options,k),u.scrollParents={reference:As(a)?ui(a):a.contextElement?ui(a.contextElement):[],popper:ui(c)};var R=F0(j0([].concat(s,u.options.modifiers)));return u.orderedModifiers=R.filter(function(x){return x.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var I=u.elements,k=I.reference,R=I.popper;if(wd(k,R)){u.rects={reference:V0(k,ji(R),u.options.strategy==="fixed"),popper:zu(R)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(de){return u.modifiersData[de.name]=Object.assign({},de.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var z=u.orderedModifiers[x],K=z.fn,se=z.options,_e=se===void 0?{}:se,ve=z.name;typeof K=="function"&&(u=K({state:u,options:_e,name:ve,instance:p})||u)}}}},update:B0(function(){return new Promise(function(w){p.forceUpdate(),w(u)})}),destroy:function(){y(),f=!0}};if(!wd(a,c))return p;p.setOptions(l).then(function(w){!f&&l.onFirstUpdate&&l.onFirstUpdate(w)});function m(){u.orderedModifiers.forEach(function(w){var I=w.name,k=w.options,R=k===void 0?{}:k,x=w.effect;if(typeof x=="function"){var z=x({state:u,name:I,instance:p,options:R}),K=function(){};h.push(z||K)}})}function y(){h.forEach(function(w){return w()}),h=[]}return p}}var H0=za(),q0=[Gu,Ju,Wu,qu],z0=za({defaultModifiers:q0}),K0=[Gu,Ju,Wu,qu,Xm,Ym,Jm,Km,Qm],Zu=za({defaultModifiers:K0});const Zm=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pm,afterRead:Lm,afterWrite:Um,applyStyles:qu,arrow:Km,auto:Ha,basePlacements:Lr,beforeMain:xm,beforeRead:km,beforeWrite:$m,bottom:At,clippingParents:Om,computeStyles:Wu,createPopper:Zu,createPopperBase:H0,createPopperLite:z0,detectOverflow:yr,end:dr,eventListeners:Gu,flip:Ym,hide:Qm,left:pt,main:Mm,modifierPhases:Fm,offset:Xm,placements:ju,popper:Hs,popperGenerator:za,popperOffsets:Ju,preventOverflow:Jm,read:Rm,reference:Dm,right:St,start:Is,top:dt,variationPlacements:Rl,viewport:Bu,write:Vm},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const W0=1e6,G0=1e3,Ml="transitionend",Y0=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Q0=t=>{do t+=Math.floor(Math.random()*W0);while(document.getElementById(t));return t},ey=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},ty=t=>{const e=ey(t);return e&&document.querySelector(e)?e:null},gn=t=>{const e=ey(t);return e?document.querySelector(e):null},X0=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),r=Number.parseFloat(n);return!s&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*G0)},ny=t=>{t.dispatchEvent(new Event(Ml))},mn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Wn=t=>mn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,xr=t=>{if(!mn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Gn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",sy=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?sy(t.parentNode):null},la=()=>{},Hi=t=>{t.offsetHeight},ry=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,jc=[],J0=t=>{document.readyState==="loading"?(jc.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of jc)e()}),jc.push(t)):t()},kt=()=>document.documentElement.dir==="rtl",Lt=t=>{J0(()=>{const e=ry();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},un=t=>{typeof t=="function"&&t()},iy=(t,e,n=!0)=>{if(!n){un(t);return}const s=5,r=X0(e)+s;let i=!1;const o=({target:a})=>{a===e&&(i=!0,e.removeEventListener(Ml,o),un(t))};e.addEventListener(Ml,o),setTimeout(()=>{i||ny(e)},r)},eh=(t,e,n,s)=>{const r=t.length;let i=t.indexOf(e);return i===-1?!n&&s?t[r-1]:t[0]:(i+=n?1:-1,s&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])},Z0=/[^.]*(?=\..*)\.|.*/,eI=/\..*/,tI=/::\d+$/,Hc={};let bd=1;const oy={mouseenter:"mouseover",mouseleave:"mouseout"},nI=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ay(t,e){return e&&`${e}::${bd++}`||t.uidEvent||bd++}function cy(t){const e=ay(t);return t.uidEvent=e,Hc[e]=Hc[e]||{},Hc[e]}function sI(t,e){return function n(s){return th(s,{delegateTarget:t}),n.oneOff&&S.off(t,s.type,e),e.apply(t,[s])}}function rI(t,e,n){return function s(r){const i=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of i)if(a===o)return th(r,{delegateTarget:o}),s.oneOff&&S.off(t,r.type,e,n),n.apply(o,[r])}}function ly(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function uy(t,e,n){const s=typeof e=="string",r=s?n:e||n;let i=hy(t);return nI.has(i)||(i=t),[s,r,i]}function Td(t,e,n,s,r){if(typeof e!="string"||!t)return;let[i,o,a]=uy(e,n,s);e in oy&&(o=(m=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return m.call(this,y)})(o));const c=cy(t),l=c[a]||(c[a]={}),u=ly(l,o,i?n:null);if(u){u.oneOff=u.oneOff&&r;return}const h=ay(o,e.replace(Z0,"")),f=i?rI(t,n,o):sI(t,o);f.delegationSelector=i?n:null,f.callable=o,f.oneOff=r,f.uidEvent=h,l[h]=f,t.addEventListener(a,f,i)}function Pl(t,e,n,s,r){const i=ly(e[n],s,r);i&&(t.removeEventListener(n,i,Boolean(r)),delete e[n][i.uidEvent])}function iI(t,e,n,s){const r=e[n]||{};for(const i of Object.keys(r))if(i.includes(s)){const o=r[i];Pl(t,e,n,o.callable,o.delegationSelector)}}function hy(t){return t=t.replace(eI,""),oy[t]||t}const S={on(t,e,n,s){Td(t,e,n,s,!1)},one(t,e,n,s){Td(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[r,i,o]=uy(e,n,s),a=o!==e,c=cy(t),l=c[o]||{},u=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(l).length)return;Pl(t,c,o,i,r?n:null);return}if(u)for(const h of Object.keys(c))iI(t,c,h,e.slice(1));for(const h of Object.keys(l)){const f=h.replace(tI,"");if(!a||e.includes(f)){const p=l[h];Pl(t,c,o,p.callable,p.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=ry(),r=hy(e),i=e!==r;let o=null,a=!0,c=!0,l=!1;i&&s&&(o=s.Event(e,n),s(t).trigger(o),a=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());let u=new Event(e,{bubbles:a,cancelable:!0});return u=th(u,n),l&&u.preventDefault(),c&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function th(t,e){for(const[n,s]of Object.entries(e||{}))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}const Dn=new Map,qc={set(t,e,n){Dn.has(t)||Dn.set(t,new Map);const s=Dn.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Dn.has(t)&&Dn.get(t).get(e)||null},remove(t,e){if(!Dn.has(t))return;const n=Dn.get(t);n.delete(e),n.size===0&&Dn.delete(t)}};function Id(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function zc(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const yn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${zc(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${zc(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Id(t.dataset[s])}return e},getDataAttribute(t,e){return Id(t.getAttribute(`data-bs-${zc(e)}`))}};class qi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=mn(n)?yn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...mn(n)?yn.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const s of Object.keys(n)){const r=n[s],i=e[s],o=mn(i)?"element":Y0(i);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${r}".`)}}}const oI="5.2.3";class zt extends qi{constructor(e,n){super(),e=Wn(e),e&&(this._element=e,this._config=this._getConfig(n),qc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qc.remove(this._element,this.constructor.DATA_KEY),S.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){iy(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qc.get(Wn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return oI}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ka=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;S.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Gn(this))return;const i=gn(this)||this.closest(`.${s}`);t.getOrCreateInstance(i)[e]()})},aI="alert",cI="bs.alert",fy=`.${cI}`,lI=`close${fy}`,uI=`closed${fy}`,hI="fade",fI="show";class Wa extends zt{static get NAME(){return aI}close(){if(S.trigger(this._element,lI).defaultPrevented)return;this._element.classList.remove(fI);const n=this._element.classList.contains(hI);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),S.trigger(this._element,uI),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Wa.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ka(Wa,"close");Lt(Wa);const dI="button",pI="bs.button",gI=`.${pI}`,mI=".data-api",yI="active",Ad='[data-bs-toggle="button"]',_I=`click${gI}${mI}`;class Ga extends zt{static get NAME(){return dI}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(yI))}static jQueryInterface(e){return this.each(function(){const n=Ga.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}S.on(document,_I,Ad,t=>{t.preventDefault();const e=t.target.closest(Ad);Ga.getOrCreateInstance(e).toggle()});Lt(Ga);const ne={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Gn(n)&&xr(n))}},vI="swipe",Mr=".bs.swipe",EI=`touchstart${Mr}`,wI=`touchmove${Mr}`,bI=`touchend${Mr}`,TI=`pointerdown${Mr}`,II=`pointerup${Mr}`,AI="touch",SI="pen",CI="pointer-event",NI=40,OI={endCallback:null,leftCallback:null,rightCallback:null},DI={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ua extends qi{constructor(e,n){super(),this._element=e,!(!e||!ua.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return OI}static get DefaultType(){return DI}static get NAME(){return vI}dispose(){S.off(this._element,Mr)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),un(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=NI)return;const n=e/this._deltaX;this._deltaX=0,n&&un(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(S.on(this._element,TI,e=>this._start(e)),S.on(this._element,II,e=>this._end(e)),this._element.classList.add(CI)):(S.on(this._element,EI,e=>this._start(e)),S.on(this._element,wI,e=>this._move(e)),S.on(this._element,bI,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===SI||e.pointerType===AI)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const kI="carousel",RI="bs.carousel",es=`.${RI}`,dy=".data-api",LI="ArrowLeft",xI="ArrowRight",MI=500,Wr="next",Fs="prev",qs="left",Ko="right",PI=`slide${es}`,Kc=`slid${es}`,$I=`keydown${es}`,VI=`mouseenter${es}`,UI=`mouseleave${es}`,FI=`dragstart${es}`,BI=`load${es}${dy}`,jI=`click${es}${dy}`,py="carousel",Co="active",HI="slide",qI="carousel-item-end",zI="carousel-item-start",KI="carousel-item-next",WI="carousel-item-prev",gy=".active",my=".carousel-item",GI=gy+my,YI=".carousel-item img",QI=".carousel-indicators",XI="[data-bs-slide], [data-bs-slide-to]",JI='[data-bs-ride="carousel"]',ZI={[LI]:Ko,[xI]:qs},eA={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},tA={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class zi extends zt{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ne.findOne(QI,this._element),this._addEventListeners(),this._config.ride===py&&this.cycle()}static get Default(){return eA}static get DefaultType(){return tA}static get NAME(){return kI}next(){this._slide(Wr)}nextWhenVisible(){!document.hidden&&xr(this._element)&&this.next()}prev(){this._slide(Fs)}pause(){this._isSliding&&ny(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){S.one(this._element,Kc,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){S.one(this._element,Kc,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?Wr:Fs;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&S.on(this._element,$I,e=>this._keydown(e)),this._config.pause==="hover"&&(S.on(this._element,VI,()=>this.pause()),S.on(this._element,UI,()=>this._maybeEnableCycle())),this._config.touch&&ua.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of ne.find(YI,this._element))S.on(s,FI,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(qs)),rightCallback:()=>this._slide(this._directionToOrder(Ko)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),MI+this._config.interval))}};this._swipeHelper=new ua(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=ZI[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=ne.findOne(gy,this._indicatorsElement);n.classList.remove(Co),n.removeAttribute("aria-current");const s=ne.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Co),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),r=e===Wr,i=n||eh(this._getItems(),s,r,this._config.wrap);if(i===s)return;const o=this._getItemIndex(i),a=p=>S.trigger(this._element,p,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(PI).defaultPrevented||!s||!i)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const u=r?zI:qI,h=r?KI:WI;i.classList.add(h),Hi(i),s.classList.add(u),i.classList.add(u);const f=()=>{i.classList.remove(u,h),i.classList.add(Co),s.classList.remove(Co,h,u),this._isSliding=!1,a(Kc)};this._queueCallback(f,s,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(HI)}_getActive(){return ne.findOne(GI,this._element)}_getItems(){return ne.find(my,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return kt()?e===qs?Fs:Wr:e===qs?Wr:Fs}_orderToDirection(e){return kt()?e===Fs?qs:Ko:e===Fs?Ko:qs}static jQueryInterface(e){return this.each(function(){const n=zi.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(document,jI,XI,function(t){const e=gn(this);if(!e||!e.classList.contains(py))return;t.preventDefault();const n=zi.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(yn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});S.on(window,BI,()=>{const t=ne.find(JI);for(const e of t)zi.getOrCreateInstance(e)});Lt(zi);const nA="collapse",sA="bs.collapse",Ki=`.${sA}`,rA=".data-api",iA=`show${Ki}`,oA=`shown${Ki}`,aA=`hide${Ki}`,cA=`hidden${Ki}`,lA=`click${Ki}${rA}`,Wc="show",Ys="collapse",No="collapsing",uA="collapsed",hA=`:scope .${Ys} .${Ys}`,fA="collapse-horizontal",dA="width",pA="height",gA=".collapse.show, .collapse.collapsing",$l='[data-bs-toggle="collapse"]',mA={parent:null,toggle:!0},yA={parent:"(null|element)",toggle:"boolean"};class Ii extends zt{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=ne.find($l);for(const r of s){const i=ty(r),o=ne.find(i).filter(a=>a===this._element);i!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return mA}static get DefaultType(){return yA}static get NAME(){return nA}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(gA).filter(a=>a!==this._element).map(a=>Ii.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||S.trigger(this._element,iA).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(Ys),this._element.classList.add(No),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(No),this._element.classList.add(Ys,Wc),this._element.style[s]="",S.trigger(this._element,oA)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||S.trigger(this._element,aA).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Hi(this._element),this._element.classList.add(No),this._element.classList.remove(Ys,Wc);for(const r of this._triggerArray){const i=gn(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(No),this._element.classList.add(Ys),S.trigger(this._element,cA)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Wc)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Wn(e.parent),e}_getDimension(){return this._element.classList.contains(fA)?dA:pA}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren($l);for(const n of e){const s=gn(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=ne.find(hA,this._config.parent);return ne.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(uA,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Ii.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}S.on(document,lA,$l,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=ty(this),n=ne.find(e);for(const s of n)Ii.getOrCreateInstance(s,{toggle:!1}).toggle()});Lt(Ii);const Sd="dropdown",_A="bs.dropdown",Rs=`.${_A}`,nh=".data-api",vA="Escape",Cd="Tab",EA="ArrowUp",Nd="ArrowDown",wA=2,bA=`hide${Rs}`,TA=`hidden${Rs}`,IA=`show${Rs}`,AA=`shown${Rs}`,yy=`click${Rs}${nh}`,_y=`keydown${Rs}${nh}`,SA=`keyup${Rs}${nh}`,zs="show",CA="dropup",NA="dropend",OA="dropstart",DA="dropup-center",kA="dropdown-center",hs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',RA=`${hs}.${zs}`,Wo=".dropdown-menu",LA=".navbar",xA=".navbar-nav",MA=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PA=kt()?"top-end":"top-start",$A=kt()?"top-start":"top-end",VA=kt()?"bottom-end":"bottom-start",UA=kt()?"bottom-start":"bottom-end",FA=kt()?"left-start":"right-start",BA=kt()?"right-start":"left-start",jA="top",HA="bottom",qA={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zA={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class en extends zt{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=ne.next(this._element,Wo)[0]||ne.prev(this._element,Wo)[0]||ne.findOne(Wo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return qA}static get DefaultType(){return zA}static get NAME(){return Sd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Gn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!S.trigger(this._element,IA,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(xA))for(const s of[].concat(...document.body.children))S.on(s,"mouseover",la);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zs),this._element.classList.add(zs),S.trigger(this._element,AA,e)}}hide(){if(Gn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!S.trigger(this._element,bA,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))S.off(s,"mouseover",la);this._popper&&this._popper.destroy(),this._menu.classList.remove(zs),this._element.classList.remove(zs),this._element.setAttribute("aria-expanded","false"),yn.removeDataAttribute(this._menu,"popper"),S.trigger(this._element,TA,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!mn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Sd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Zm>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:mn(this._config.reference)?e=Wn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Zu(e,this._menu,n)}_isShown(){return this._menu.classList.contains(zs)}_getPlacement(){const e=this._parent;if(e.classList.contains(NA))return FA;if(e.classList.contains(OA))return BA;if(e.classList.contains(DA))return jA;if(e.classList.contains(kA))return HA;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(CA)?n?$A:PA:n?UA:VA}_detectNavbar(){return this._element.closest(LA)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(yn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const s=ne.find(MA,this._menu).filter(r=>xr(r));s.length&&eh(s,n,e===Nd,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=en.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===wA||e.type==="keyup"&&e.key!==Cd)return;const n=ne.find(RA);for(const s of n){const r=en.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=e.composedPath(),o=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Cd||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===vA,r=[EA,Nd].includes(e.key);if(!r&&!s||n&&!s)return;e.preventDefault();const i=this.matches(hs)?this:ne.prev(this,hs)[0]||ne.next(this,hs)[0]||ne.findOne(hs,e.delegateTarget.parentNode),o=en.getOrCreateInstance(i);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}S.on(document,_y,hs,en.dataApiKeydownHandler);S.on(document,_y,Wo,en.dataApiKeydownHandler);S.on(document,yy,en.clearMenus);S.on(document,SA,en.clearMenus);S.on(document,yy,hs,function(t){t.preventDefault(),en.getOrCreateInstance(this).toggle()});Lt(en);const Od=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Dd=".sticky-top",Oo="padding-right",kd="margin-right";class Vl{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Oo,n=>n+e),this._setElementAttributes(Od,Oo,n=>n+e),this._setElementAttributes(Dd,kd,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Oo),this._resetElementAttributes(Od,Oo),this._resetElementAttributes(Dd,kd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const r=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&yn.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=r=>{const i=yn.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}yn.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(mn(e)){n(e);return}for(const s of ne.find(e,this._element))n(s)}}const vy="backdrop",KA="fade",Rd="show",Ld=`mousedown.bs.${vy}`,WA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},GA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ey extends qi{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return WA}static get DefaultType(){return GA}static get NAME(){return vy}show(e){if(!this._config.isVisible){un(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Hi(n),n.classList.add(Rd),this._emulateAnimation(()=>{un(e)})}hide(e){if(!this._config.isVisible){un(e);return}this._getElement().classList.remove(Rd),this._emulateAnimation(()=>{this.dispose(),un(e)})}dispose(){this._isAppended&&(S.off(this._element,Ld),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(KA),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Wn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),S.on(e,Ld,()=>{un(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){iy(e,this._getElement(),this._config.isAnimated)}}const YA="focustrap",QA="bs.focustrap",ha=`.${QA}`,XA=`focusin${ha}`,JA=`keydown.tab${ha}`,ZA="Tab",e1="forward",xd="backward",t1={autofocus:!0,trapElement:null},n1={autofocus:"boolean",trapElement:"element"};class wy extends qi{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return t1}static get DefaultType(){return n1}static get NAME(){return YA}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),S.off(document,ha),S.on(document,XA,e=>this._handleFocusin(e)),S.on(document,JA,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,S.off(document,ha))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=ne.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===xd?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===ZA&&(this._lastTabNavDirection=e.shiftKey?xd:e1)}}const s1="modal",r1="bs.modal",Kt=`.${r1}`,i1=".data-api",o1="Escape",a1=`hide${Kt}`,c1=`hidePrevented${Kt}`,by=`hidden${Kt}`,Ty=`show${Kt}`,l1=`shown${Kt}`,u1=`resize${Kt}`,h1=`click.dismiss${Kt}`,f1=`mousedown.dismiss${Kt}`,d1=`keydown.dismiss${Kt}`,p1=`click${Kt}${i1}`,Md="modal-open",g1="fade",Pd="show",Gc="modal-static",m1=".modal.show",y1=".modal-dialog",_1=".modal-body",v1='[data-bs-toggle="modal"]',E1={backdrop:!0,focus:!0,keyboard:!0},w1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _r extends zt{constructor(e,n){super(e,n),this._dialog=ne.findOne(y1,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vl,this._addEventListeners()}static get Default(){return E1}static get DefaultType(){return w1}static get NAME(){return s1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||S.trigger(this._element,Ty,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Md),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||S.trigger(this._element,a1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Pd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])S.off(e,Kt);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ey({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wy({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=ne.findOne(_1,this._dialog);n&&(n.scrollTop=0),Hi(this._element),this._element.classList.add(Pd);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,S.trigger(this._element,l1,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){S.on(this._element,d1,e=>{if(e.key===o1){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),S.on(window,u1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),S.on(this._element,f1,e=>{S.one(this._element,h1,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Md),this._resetAdjustments(),this._scrollBar.reset(),S.trigger(this._element,by)})}_isAnimated(){return this._element.classList.contains(g1)}_triggerBackdropTransition(){if(S.trigger(this._element,c1).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Gc)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Gc),this._queueCallback(()=>{this._element.classList.remove(Gc),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const r=kt()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&e){const r=kt()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=_r.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}S.on(document,p1,v1,function(t){const e=gn(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),S.one(e,Ty,r=>{r.defaultPrevented||S.one(e,by,()=>{xr(this)&&this.focus()})});const n=ne.findOne(m1);n&&_r.getInstance(n).hide(),_r.getOrCreateInstance(e).toggle(this)});Ka(_r);Lt(_r);const b1="offcanvas",T1="bs.offcanvas",Sn=`.${T1}`,Iy=".data-api",I1=`load${Sn}${Iy}`,A1="Escape",$d="show",Vd="showing",Ud="hiding",S1="offcanvas-backdrop",Ay=".offcanvas.show",C1=`show${Sn}`,N1=`shown${Sn}`,O1=`hide${Sn}`,Fd=`hidePrevented${Sn}`,Sy=`hidden${Sn}`,D1=`resize${Sn}`,k1=`click${Sn}${Iy}`,R1=`keydown.dismiss${Sn}`,L1='[data-bs-toggle="offcanvas"]',x1={backdrop:!0,keyboard:!0,scroll:!1},M1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Yn extends zt{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return x1}static get DefaultType(){return M1}static get NAME(){return b1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||S.trigger(this._element,C1,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Vl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vd);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add($d),this._element.classList.remove(Vd),S.trigger(this._element,N1,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||S.trigger(this._element,O1).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ud),this._backdrop.hide();const n=()=>{this._element.classList.remove($d,Ud),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Vl().reset(),S.trigger(this._element,Sy)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){S.trigger(this._element,Fd);return}this.hide()},n=Boolean(this._config.backdrop);return new Ey({className:S1,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new wy({trapElement:this._element})}_addEventListeners(){S.on(this._element,R1,e=>{if(e.key===A1){if(!this._config.keyboard){S.trigger(this._element,Fd);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=Yn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}S.on(document,k1,L1,function(t){const e=gn(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Gn(this))return;S.one(e,Sy,()=>{xr(this)&&this.focus()});const n=ne.findOne(Ay);n&&n!==e&&Yn.getInstance(n).hide(),Yn.getOrCreateInstance(e).toggle(this)});S.on(window,I1,()=>{for(const t of ne.find(Ay))Yn.getOrCreateInstance(t).show()});S.on(window,D1,()=>{for(const t of ne.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Yn.getOrCreateInstance(t).hide()});Ka(Yn);Lt(Yn);const P1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$1=/^aria-[\w-]*$/i,V1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,U1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,F1=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?P1.has(n)?Boolean(V1.test(t.nodeValue)||U1.test(t.nodeValue)):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))},Cy={"*":["class","dir","id","lang","role",$1],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function B1(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const o of i){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const c=[].concat(...o.attributes),l=[].concat(e["*"]||[],e[a]||[]);for(const u of c)F1(u,l)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const j1="TemplateFactory",H1={allowList:Cy,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},q1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},z1={entry:"(string|element|function|null)",selector:"(string|element)"};class K1 extends qi{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return H1}static get DefaultType(){return q1}static get NAME(){return j1}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},z1)}_setContent(e,n,s){const r=ne.findOne(s,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(mn(n)){this._putElementInTemplate(Wn(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?B1(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const W1="tooltip",G1=new Set(["sanitize","allowList","sanitizeFn"]),Yc="fade",Y1="modal",Do="show",Q1=".tooltip-inner",Bd=`.${Y1}`,jd="hide.bs.modal",Gr="hover",Qc="focus",X1="click",J1="manual",Z1="hide",eS="hidden",tS="show",nS="shown",sS="inserted",rS="click",iS="focusin",oS="focusout",aS="mouseenter",cS="mouseleave",lS={AUTO:"auto",TOP:"top",RIGHT:kt()?"left":"right",BOTTOM:"bottom",LEFT:kt()?"right":"left"},uS={allowList:Cy,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hS={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Pr extends zt{constructor(e,n){if(typeof Zm>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return uS}static get DefaultType(){return hS}static get NAME(){return W1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),S.off(this._element.closest(Bd),jd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=S.trigger(this._element,this.constructor.eventName(tS)),s=(sy(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),S.trigger(this._element,this.constructor.eventName(sS))),this._popper=this._createPopper(r),r.classList.add(Do),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))S.on(a,"mouseover",la);const o=()=>{S.trigger(this._element,this.constructor.eventName(nS)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||S.trigger(this._element,this.constructor.eventName(Z1)).defaultPrevented)return;if(this._getTipElement().classList.remove(Do),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))S.off(r,"mouseover",la);this._activeTrigger[X1]=!1,this._activeTrigger[Qc]=!1,this._activeTrigger[Gr]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),S.trigger(this._element,this.constructor.eventName(eS)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Yc,Do),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Q0(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Yc),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new K1({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Q1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Yc)}_isShown(){return this.tip&&this.tip.classList.contains(Do)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,s=lS[n.toUpperCase()];return Zu(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")S.on(this._element,this.constructor.eventName(rS),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==J1){const s=n===Gr?this.constructor.eventName(aS):this.constructor.eventName(iS),r=n===Gr?this.constructor.eventName(cS):this.constructor.eventName(oS);S.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?Qc:Gr]=!0,o._enter()}),S.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?Qc:Gr]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},S.on(this._element.closest(Bd),jd,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=yn.getDataAttributes(this._element);for(const s of Object.keys(n))G1.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Wn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Pr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Lt(Pr);const fS="popover",dS=".popover-header",pS=".popover-body",gS={...Pr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mS={...Pr.DefaultType,content:"(null|string|element|function)"};class sh extends Pr{static get Default(){return gS}static get DefaultType(){return mS}static get NAME(){return fS}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[dS]:this._getTitle(),[pS]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=sh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Lt(sh);const yS="scrollspy",_S="bs.scrollspy",rh=`.${_S}`,vS=".data-api",ES=`activate${rh}`,Hd=`click${rh}`,wS=`load${rh}${vS}`,bS="dropdown-item",Bs="active",TS='[data-bs-spy="scroll"]',Xc="[href]",IS=".nav, .list-group",qd=".nav-link",AS=".nav-item",SS=".list-group-item",CS=`${qd}, ${AS} > ${qd}, ${SS}`,NS=".dropdown",OS=".dropdown-toggle",DS={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kS={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ya extends zt{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return DS}static get DefaultType(){return kS}static get NAME(){return yS}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Wn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(S.off(this._config.target,Hd),S.on(this._config.target,Hd,Xc,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(s(o),!r)return;continue}!i&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ne.find(Xc,this._config.target);for(const n of e){if(!n.hash||Gn(n))continue;const s=ne.findOne(n.hash,this._element);xr(s)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Bs),this._activateParents(e),S.trigger(this._element,ES,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(bS)){ne.findOne(OS,e.closest(NS)).classList.add(Bs);return}for(const n of ne.parents(e,IS))for(const s of ne.prev(n,CS))s.classList.add(Bs)}_clearActiveClass(e){e.classList.remove(Bs);const n=ne.find(`${Xc}.${Bs}`,e);for(const s of n)s.classList.remove(Bs)}static jQueryInterface(e){return this.each(function(){const n=Ya.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(window,wS,()=>{for(const t of ne.find(TS))Ya.getOrCreateInstance(t)});Lt(Ya);const RS="tab",LS="bs.tab",Ls=`.${LS}`,xS=`hide${Ls}`,MS=`hidden${Ls}`,PS=`show${Ls}`,$S=`shown${Ls}`,VS=`click${Ls}`,US=`keydown${Ls}`,FS=`load${Ls}`,BS="ArrowLeft",zd="ArrowRight",jS="ArrowUp",Kd="ArrowDown",fs="active",Wd="fade",Jc="show",HS="dropdown",qS=".dropdown-toggle",zS=".dropdown-menu",Zc=":not(.dropdown-toggle)",KS='.list-group, .nav, [role="tablist"]',WS=".nav-item, .list-group-item",GS=`.nav-link${Zc}, .list-group-item${Zc}, [role="tab"]${Zc}`,Ny='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',el=`${GS}, ${Ny}`,YS=`.${fs}[data-bs-toggle="tab"], .${fs}[data-bs-toggle="pill"], .${fs}[data-bs-toggle="list"]`;class vr extends zt{constructor(e){super(e),this._parent=this._element.closest(KS),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),S.on(this._element,US,n=>this._keydown(n)))}static get NAME(){return RS}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?S.trigger(n,xS,{relatedTarget:e}):null;S.trigger(e,PS,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(fs),this._activate(gn(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Jc);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),S.trigger(e,$S,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Wd))}_deactivate(e,n){if(!e)return;e.classList.remove(fs),e.blur(),this._deactivate(gn(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Jc);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),S.trigger(e,MS,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Wd))}_keydown(e){if(![BS,zd,jS,Kd].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[zd,Kd].includes(e.key),s=eh(this._getChildren().filter(r=>!Gn(r)),e.target,n,!0);s&&(s.focus({preventScroll:!0}),vr.getOrCreateInstance(s).show())}_getChildren(){return ne.find(el,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=gn(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(HS))return;const r=(i,o)=>{const a=ne.findOne(i,s);a&&a.classList.toggle(o,n)};r(qS,fs),r(zS,Jc),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(fs)}_getInnerElement(e){return e.matches(el)?e:ne.findOne(el,e)}_getOuterElement(e){return e.closest(WS)||e}static jQueryInterface(e){return this.each(function(){const n=vr.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(document,VS,Ny,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Gn(this)&&vr.getOrCreateInstance(this).show()});S.on(window,FS,()=>{for(const t of ne.find(YS))vr.getOrCreateInstance(t)});Lt(vr);const QS="toast",XS="bs.toast",ts=`.${XS}`,JS=`mouseover${ts}`,ZS=`mouseout${ts}`,eC=`focusin${ts}`,tC=`focusout${ts}`,nC=`hide${ts}`,sC=`hidden${ts}`,rC=`show${ts}`,iC=`shown${ts}`,oC="fade",Gd="hide",ko="show",Ro="showing",aC={animation:"boolean",autohide:"boolean",delay:"number"},cC={animation:!0,autohide:!0,delay:5e3};class Qa extends zt{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cC}static get DefaultType(){return aC}static get NAME(){return QS}show(){if(S.trigger(this._element,rC).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(oC);const n=()=>{this._element.classList.remove(Ro),S.trigger(this._element,iC),this._maybeScheduleHide()};this._element.classList.remove(Gd),Hi(this._element),this._element.classList.add(ko,Ro),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||S.trigger(this._element,nC).defaultPrevented)return;const n=()=>{this._element.classList.add(Gd),this._element.classList.remove(Ro,ko),S.trigger(this._element,sC)};this._element.classList.add(Ro),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ko),super.dispose()}isShown(){return this._element.classList.contains(ko)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){S.on(this._element,JS,e=>this._onInteraction(e,!0)),S.on(this._element,ZS,e=>this._onInteraction(e,!1)),S.on(this._element,eC,e=>this._onInteraction(e,!0)),S.on(this._element,tC,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Qa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ka(Qa);Lt(Qa);const an=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},lC={__name:"App",setup(t){return(e,n)=>(Ke(),Mu(ys(Nm)))}},uC=an(lC,[["__scopeId","data-v-bf4d71cf"]]),hC="modulepreload",fC=function(t){return"/vue_chat_app/"+t},Yd={},dC=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=fC(i),i in Yd)return;Yd[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":hC,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};const pC={},gC={class:"item"},mC={class:"details"};function yC(t,e){return Ke(),ht("div",gC,[X("i",null,[Mc(t.$slots,"icon",{},void 0,!0)]),X("div",mC,[X("h3",null,[Mc(t.$slots,"heading",{},void 0,!0)]),Mc(t.$slots,"default",{},void 0,!0)])])}const Yr=an(pC,[["render",yC],["__scopeId","data-v-b362a3d3"]]),_C={},vC={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},EC=X("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),wC=[EC];function bC(t,e){return Ke(),ht("svg",vC,wC)}const TC=an(_C,[["render",bC]]),IC={},AC={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},SC=X("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),CC=[SC];function NC(t,e){return Ke(),ht("svg",AC,CC)}const OC=an(IC,[["render",NC]]),DC={},kC={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},RC=X("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),LC=[RC];function xC(t,e){return Ke(),ht("svg",kC,LC)}const MC=an(DC,[["render",xC]]),PC={},$C={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},VC=X("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),UC=[VC];function FC(t,e){return Ke(),ht("svg",$C,UC)}const BC=an(PC,[["render",FC]]),jC={},HC={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},qC=X("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),zC=[qC];function KC(t,e){return Ke(),ht("svg",HC,zC)}const WC=an(jC,[["render",KC]]),GC=X("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1),YC=X("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),QC=X("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),XC=X("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),JC=X("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),ZC=X("a",{href:"https://on.cypress.io/component",target:"_blank"},"Cypress Component Testing",-1),eN=X("br",null,null,-1),tN=X("code",null,"README.md",-1),nN=X("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1),sN=X("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1),rN=X("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1),iN=X("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1),oN=X("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1),aN=X("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1),cN=X("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1),lN=X("a",{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"},"our mailing list",-1),uN=X("a",{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1),hN=X("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1),fN={__name:"TheWelcome",setup(t){return(e,n)=>(Ke(),ht(yt,null,[Te(Yr,null,{icon:Xe(()=>[Te(TC)]),heading:Xe(()=>[we("Documentation")]),default:Xe(()=>[we(" Vue’s "),GC,we(" provides you with all information you need to get started. ")]),_:1}),Te(Yr,null,{icon:Xe(()=>[Te(OC)]),heading:Xe(()=>[we("Tooling")]),default:Xe(()=>[we(" This project is served and bundled with "),YC,we(". The recommended IDE setup is "),QC,we(" + "),XC,we(". If you need to test your components and web pages, check out "),JC,we(" and "),ZC,we(". "),eN,we(" More instructions are available in "),tN,we(". ")]),_:1}),Te(Yr,null,{icon:Xe(()=>[Te(MC)]),heading:Xe(()=>[we("Ecosystem")]),default:Xe(()=>[we(" Get official tools and libraries for your project: "),nN,we(", "),sN,we(", "),rN,we(", and "),iN,we(". If you need more resources, we suggest paying "),oN,we(" a visit. ")]),_:1}),Te(Yr,null,{icon:Xe(()=>[Te(BC)]),heading:Xe(()=>[we("Community")]),default:Xe(()=>[we(" Got stuck? Ask your question on "),aN,we(", our official Discord server, or "),cN,we(". You should also subscribe to "),lN,we(" and follow the official "),uN,we(" twitter account for latest news in the Vue world. ")]),_:1}),Te(Yr,null,{icon:Xe(()=>[Te(WC)]),heading:Xe(()=>[we("Support Vue")]),default:Xe(()=>[we(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),hN,we(". ")]),_:1})],64))}},dN={__name:"HomeView",setup(t){return(e,n)=>(Ke(),ht("main",null,[Te(fN)]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},pN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw Error();const f=i<<2|a>>4;if(s.push(f),l!==64){const p=a<<4&240|l>>2;if(s.push(p),h!==64){const m=l<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},gN=function(t){const e=Oy(t);return Dy.encodeByteArray(e,!0)},fa=function(t){return gN(t).replace(/\./g,"")},ky=function(t){try{return Dy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>mN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ky(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return yN()||_N()||vN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ry=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EN=t=>{const e=Ry(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wN=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},Ly=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function AN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class Cn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DN,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}}class Wi{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?kN(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Cn(r,a,s)}}function kN(t,e){return t.replace(RN,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const RN=/\{\$([^}]+)}/g;function LN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function da(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Qd(i)&&Qd(o)){if(!da(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Qd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Zr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xN(t,e){const n=new MN(t,e);return n.subscribe.bind(n)}class MN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=tl),r.error===void 0&&(r.error=tl),r.complete===void 0&&(r.complete=tl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UN(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(t){return t===cs?void 0:t}function UN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const BN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},jN=ge.INFO,HN={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},qN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=HN[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const zN=(t,e)=>e.some(n=>t instanceof n);let Xd,Jd;function KN(){return Xd||(Xd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return Jd||(Jd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xy=new WeakMap,Ul=new WeakMap,My=new WeakMap,nl=new WeakMap,ah=new WeakMap;function GN(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xy.set(n,t)}).catch(()=>{}),ah.set(e,t),e}function YN(t){if(Ul.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ul.set(t,e)}let Fl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||My.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QN(t){Fl=t(Fl)}function XN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(sl(this),e,...n);return My.set(s,e.sort?e.sort():[e]),Fn(s)}:WN().includes(t)?function(...e){return t.apply(sl(this),e),Fn(xy.get(this))}:function(...e){return Fn(t.apply(sl(this),e))}}function JN(t){return typeof t=="function"?XN(t):(t instanceof IDBTransaction&&YN(t),zN(t,KN())?new Proxy(t,Fl):t)}function Fn(t){if(t instanceof IDBRequest)return GN(t);if(nl.has(t))return nl.get(t);const e=JN(t);return e!==t&&(nl.set(t,e),ah.set(e,t)),e}const sl=t=>ah.get(t);function ZN(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Fn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Fn(o.result),c.oldVersion,c.newVersion,Fn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const eO=["get","getKey","getAll","getAllKeys","count"],tO=["put","add","delete","clear"],rl=new Map;function Zd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rl.get(e))return rl.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=tO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||eO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return rl.set(e,i),i}QN(t=>({...t,get:(e,n,s)=>Zd(e,n)||t.get(e,n,s),has:(e,n)=>!!Zd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bl="@firebase/app",ep="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new oh("@firebase/app"),rO="@firebase/app-compat",iO="@firebase/analytics-compat",oO="@firebase/analytics",aO="@firebase/app-check-compat",cO="@firebase/app-check",lO="@firebase/auth",uO="@firebase/auth-compat",hO="@firebase/database",fO="@firebase/database-compat",dO="@firebase/functions",pO="@firebase/functions-compat",gO="@firebase/installations",mO="@firebase/installations-compat",yO="@firebase/messaging",_O="@firebase/messaging-compat",vO="@firebase/performance",EO="@firebase/performance-compat",wO="@firebase/remote-config",bO="@firebase/remote-config-compat",TO="@firebase/storage",IO="@firebase/storage-compat",AO="@firebase/firestore",SO="@firebase/firestore-compat",CO="firebase",NO="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="[DEFAULT]",OO={[Bl]:"fire-core",[rO]:"fire-core-compat",[oO]:"fire-analytics",[iO]:"fire-analytics-compat",[cO]:"fire-app-check",[aO]:"fire-app-check-compat",[lO]:"fire-auth",[uO]:"fire-auth-compat",[hO]:"fire-rtdb",[fO]:"fire-rtdb-compat",[dO]:"fire-fn",[pO]:"fire-fn-compat",[gO]:"fire-iid",[mO]:"fire-iid-compat",[yO]:"fire-fcm",[_O]:"fire-fcm-compat",[vO]:"fire-perf",[EO]:"fire-perf-compat",[wO]:"fire-rc",[bO]:"fire-rc-compat",[TO]:"fire-gcs",[IO]:"fire-gcs-compat",[AO]:"fire-fst",[SO]:"fire-fst-compat","fire-js":"fire-js",[CO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map,Hl=new Map;function DO(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(Hl.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Hl.set(e,t);for(const n of pa.values())DO(n,t);return!0}function ch(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bn=new Wi("app","Firebase",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=NO;function Py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Bn.create("bad-app-name",{appName:String(r)});if(n||(n=wN()),!n)throw Bn.create("no-options");const i=pa.get(r);if(i){if(da(n,i.options)&&da(s,i.config))return i;throw Bn.create("duplicate-app",{appName:r})}const o=new FN(r);for(const c of Hl.values())o.addComponent(c);const a=new RO(n,s,o);return pa.set(r,a),a}function $y(t=jl){const e=pa.get(t);if(!e&&t===jl)return Py();if(!e)throw Bn.create("no-app",{appName:t});return e}function jn(t,e,n){var s;let r=(s=OO[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}Er(new Ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firebase-heartbeat-database",xO=1,Ai="firebase-heartbeat-store";let il=null;function Vy(){return il||(il=ZN(LO,xO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ai)}}}).catch(t=>{throw Bn.create("idb-open",{originalErrorMessage:t.message})})),il}async function MO(t){try{return(await Vy()).transaction(Ai).objectStore(Ai).get(Uy(t))}catch(e){if(e instanceof Cn)Cs.warn(e.message);else{const n=Bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function tp(t,e){try{const s=(await Vy()).transaction(Ai,"readwrite");return await s.objectStore(Ai).put(e,Uy(t)),s.done}catch(n){if(n instanceof Cn)Cs.warn(n.message);else{const s=Bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function Uy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1024,$O=30*24*60*60*1e3;class VO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=np();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=$O}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=np(),{heartbeatsToSend:n,unsentEntries:s}=UO(this._heartbeatsCache.heartbeats),r=fa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function np(){return new Date().toISOString().substring(0,10)}function UO(t,e=PO){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),sp(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),sp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await MO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sp(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){Er(new Ss("platform-logger",e=>new nO(e),"PRIVATE")),Er(new Ss("heartbeat",e=>new VO(e),"PRIVATE")),jn(Bl,ep,t),jn(Bl,ep,"esm2017"),jn("fire-js","")}BO("");var jO="firebase",HO="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(jO,HO,"app");var qO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,lh=lh||{},Q=qO||self;function ga(){}function Xa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zO(t){return Object.prototype.hasOwnProperty.call(t,ol)&&t[ol]||(t[ol]=++KO)}var ol="closure_uid_"+(1e9*Math.random()>>>0),KO=0;function WO(t,e,n){return t.call.apply(t.bind,arguments)}function GO(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=WO:rt=GO,rt.apply(null,arguments)}function Lo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Qe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function ns(){this.s=this.s,this.o=this.o}var YO=0;ns.prototype.s=!1;ns.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YO!=0)&&zO(this)};ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uh(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function rp(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Xa(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var QO=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",ga,e),Q.removeEventListener("test",ga,e)}catch{}return t}();function ma(t){return/^[\s\xa0]*$/.test(t)}var ip=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function al(t,e){return t<e?-1:t>e?1:0}function Ja(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Jt(t){return Ja().indexOf(t)!=-1}function hh(t){return hh[" "](t),t}hh[" "]=ga;function XO(t){var e=eD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var JO=Jt("Opera"),wr=Jt("Trident")||Jt("MSIE"),By=Jt("Edge"),ql=By||wr,jy=Jt("Gecko")&&!(Ja().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge"))&&!(Jt("Trident")||Jt("MSIE"))&&!Jt("Edge"),ZO=Ja().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge");function Hy(){var t=Q.document;return t?t.documentMode:void 0}var ya;e:{var cl="",ll=function(){var t=Ja();if(jy)return/rv:([^\);]+)(\)|;)/.exec(t);if(By)return/Edge\/([\d\.]+)/.exec(t);if(wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ZO)return/WebKit\/(\S+)/.exec(t);if(JO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ll&&(cl=ll?ll[1]:""),wr){var ul=Hy();if(ul!=null&&ul>parseFloat(cl)){ya=String(ul);break e}}ya=cl}var eD={};function tD(){return XO(function(){let t=0;const e=ip(String(ya)).split("."),n=ip("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=al(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||al(r[2].length==0,i[2].length==0)||al(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var zl;if(Q.document&&wr){var op=Hy();zl=op||parseInt(ya,10)||void 0}else zl=void 0;var nD=zl;function Si(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jy){e:{try{hh(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Si.X.h.call(this)}}Qe(Si,it);var sD={2:"touch",3:"pen",4:"mouse"};Si.prototype.h=function(){Si.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xi="closure_listenable_"+(1e6*Math.random()|0),rD=0;function iD(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=r,this.key=++rD,this.ba=this.ea=!1}function Za(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function fh(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function qy(t){const e={};for(const n in t)e[n]=t[n];return e}const ap="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zy(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<ap.length;i++)n=ap[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function ec(t){this.src=t,this.g={},this.h=0}ec.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Wl(t,e,s,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new iD(e,this.src,i,!!s,r),e.ea=n,t.push(e)),e};function Kl(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Fy(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Za(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wl(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==s)return r}return-1}var dh="closure_lm_"+(1e6*Math.random()|0),hl={};function Ky(t,e,n,s,r){if(s&&s.once)return Gy(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ky(t,e[i],n,s,r);return null}return n=mh(n),t&&t[Xi]?t.N(e,n,Qi(s)?!!s.capture:!!s,r):Wy(t,e,n,!1,s,r)}function Wy(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Qi(r)?!!r.capture:!!r,a=gh(t);if(a||(t[dh]=a=new ec(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=oD(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)QO||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Qy(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oD(){function t(n){return e.call(t.src,t.listener,n)}const e=aD;return t}function Gy(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Gy(t,e[i],n,s,r);return null}return n=mh(n),t&&t[Xi]?t.O(e,n,Qi(s)?!!s.capture:!!s,r):Wy(t,e,n,!0,s,r)}function Yy(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Yy(t,e[i],n,s,r);else s=Qi(s)?!!s.capture:!!s,n=mh(n),t&&t[Xi]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Wl(i,n,s,r),-1<n&&(Za(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=gh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wl(e,n,s,r)),(n=-1<t?e[t]:null)&&ph(n))}function ph(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Xi])Kl(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Qy(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=gh(e))?(Kl(n,t),n.h==0&&(n.src=null,e[dh]=null)):Za(t)}}}function Qy(t){return t in hl?hl[t]:hl[t]="on"+t}function aD(t,e){if(t.ba)t=!0;else{e=new Si(e,this);var n=t.listener,s=t.ha||t.src;t.ea&&ph(t),t=n.call(s,e)}return t}function gh(t){return t=t[dh],t instanceof ec?t:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function mh(t){return typeof t=="function"?t:(t[fl]||(t[fl]=function(e){return t.handleEvent(e)}),t[fl])}function We(){ns.call(this),this.i=new ec(this),this.P=this,this.I=null}Qe(We,ns);We.prototype[Xi]=!0;We.prototype.removeEventListener=function(t,e,n,s){Yy(this,t,e,n,s)};function Ye(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var r=e;e=new it(s,t),zy(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=xo(o,s,!0,e)&&r}if(o=e.g=t,r=xo(o,s,!0,e)&&r,r=xo(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=xo(o,s,!1,e)&&r}We.prototype.M=function(){if(We.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Za(n[s]);delete t.g[e],t.h--}}this.I=null};We.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};We.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function xo(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&Kl(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var yh=Q.JSON.stringify;function cD(){var t=Zy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class lD{constructor(){this.h=this.g=null}add(e,n){const s=Xy.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Xy=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new uD,t=>t.reset());class uD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hD(t){Q.setTimeout(()=>{throw t},0)}function Jy(t,e){Gl||fD(),Yl||(Gl(),Yl=!0),Zy.add(t,e)}var Gl;function fD(){var t=Q.Promise.resolve(void 0);Gl=function(){t.then(dD)}}var Yl=!1,Zy=new lD;function dD(){for(var t;t=cD();){try{t.h.call(t.g)}catch(n){hD(n)}var e=Xy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yl=!1}function tc(t,e){We.call(this),this.h=t||1,this.g=e||Q,this.j=rt(this.lb,this),this.l=Date.now()}Qe(tc,We);F=tc.prototype;F.ca=!1;F.R=null;F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ye(this,"tick"),this.ca&&(_h(this),this.start()))}};F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _h(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}F.M=function(){tc.X.M.call(this),_h(this),delete this.g};function vh(t,e,n){if(typeof t=="function")n&&(t=rt(t,n));else if(t&&typeof t.handleEvent=="function")t=rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function e_(t){t.g=vh(()=>{t.g=null,t.i&&(t.i=!1,e_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class pD extends ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:e_(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(t){ns.call(this),this.h=t,this.g={}}Qe(Ci,ns);var cp=[];function t_(t,e,n,s){Array.isArray(n)||(n&&(cp[0]=n.toString()),n=cp);for(var r=0;r<n.length;r++){var i=Ky(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function n_(t){fh(t.g,function(e,n){this.g.hasOwnProperty(n)&&ph(e)},t),t.g={}}Ci.prototype.M=function(){Ci.X.M.call(this),n_(this)};Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nc(){this.g=!0}nc.prototype.Aa=function(){this.g=!1};function gD(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function mD(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Qs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_D(t,n)+(s?" "+s:"")})}function yD(t,e){t.info(function(){return"TIMEOUT: "+e})}nc.prototype.info=function(){};function _D(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return yh(n)}catch{return e}}var xs={},lp=null;function sc(){return lp=lp||new We}xs.Pa="serverreachability";function s_(t){it.call(this,xs.Pa,t)}Qe(s_,it);function Ni(t){const e=sc();Ye(e,new s_(e))}xs.STAT_EVENT="statevent";function r_(t,e){it.call(this,xs.STAT_EVENT,t),this.stat=e}Qe(r_,it);function ft(t){const e=sc();Ye(e,new r_(e,t))}xs.Qa="timingevent";function i_(t,e){it.call(this,xs.Qa,t),this.size=e}Qe(i_,it);function Ji(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var rc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},o_={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Eh(){}Eh.prototype.h=null;function up(t){return t.h||(t.h=t.i())}function a_(){}var Zi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wh(){it.call(this,"d")}Qe(wh,it);function bh(){it.call(this,"c")}Qe(bh,it);var Ql;function ic(){}Qe(ic,Eh);ic.prototype.g=function(){return new XMLHttpRequest};ic.prototype.i=function(){return{}};Ql=new ic;function eo(t,e,n,s){this.l=t,this.j=e,this.m=n,this.U=s||1,this.S=new Ci(this),this.O=vD,t=ql?125:void 0,this.T=new tc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new c_}function c_(){this.i=null,this.g="",this.h=!1}var vD=45e3,Xl={},_a={};F=eo.prototype;F.setTimeout=function(t){this.O=t};function Jl(t,e,n){t.K=1,t.v=ac(En(e)),t.s=n,t.P=!0,l_(t,null)}function l_(t,e){t.F=Date.now(),to(t),t.A=En(t.v);var n=t.A,s=t.U;Array.isArray(s)||(s=[String(s)]),y_(n.i,"t",s),t.C=0,n=t.l.H,t.h=new c_,t.g=V_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new pD(rt(t.La,t,t.g),t.N)),t_(t.S,t.g,"readystatechange",t.ib),e=t.H?qy(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ni(),gD(t.j,t.u,t.A,t.m,t.U,t.s)}F.ib=function(t){t=t.target;const e=this.L;e&&hn(t)==3?e.l():this.La(t)};F.La=function(t){try{if(t==this.g)e:{const u=hn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||ql||this.g&&(this.h.h||this.g.fa()||pp(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Ni(3):Ni(2)),oc(this);var n=this.g.aa();this.Y=n;t:if(u_(this)){var s=pp(this.g);t="";var r=s.length,i=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),hi(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,mD(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ma(a)){var l=a;break t}}l=null}if(n=l)Qs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zl(this,n);else{this.i=!1,this.o=3,ft(12),ds(this),hi(this);break e}}this.P?(h_(this,u,o),ql&&this.i&&u==3&&(t_(this.S,this.T,"tick",this.hb),this.T.start())):(Qs(this.j,this.m,o,null),Zl(this,o)),u==4&&ds(this),this.i&&!this.I&&(u==4?x_(this.l,this):(this.i=!1,to(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),ds(this),hi(this)}}}catch{}finally{}};function u_(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function h_(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=ED(t,n),r==_a){e==4&&(t.o=4,ft(14),s=!1),Qs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Xl){t.o=4,ft(15),Qs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Qs(t.j,t.m,r,null),Zl(t,r);u_(t)&&r!=_a&&r!=Xl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oh(e),e.K=!0,ft(11))):(Qs(t.j,t.m,n,"[Invalid Chunked Response]"),ds(t),hi(t))}F.hb=function(){if(this.g){var t=hn(this.g),e=this.g.fa();this.C<e.length&&(oc(this),h_(this,t,e),this.i&&t!=4&&to(this))}};function ED(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?_a:(n=Number(e.substring(n,s)),isNaN(n)?Xl:(s+=1,s+n>e.length?_a:(e=e.substr(s,n),t.C=s+n,e)))}F.cancel=function(){this.I=!0,ds(this)};function to(t){t.V=Date.now()+t.O,f_(t,t.O)}function f_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ji(rt(t.gb,t),e)}function oc(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(yD(this.j,this.A),this.K!=2&&(Ni(),ft(17)),ds(this),this.o=2,hi(this)):f_(this,this.V-t)};function hi(t){t.l.G==0||t.I||x_(t.l,t)}function ds(t){oc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,_h(t.T),n_(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Zl(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||eu(n.h,t))){if(!t.J&&eu(n.h,t)&&n.G==3){try{var s=n.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)wa(n),uc(n);else break e;Nh(n),ft(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ji(rt(n.cb,n),6e3));if(1>=E_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ps(n,11)}else if((t.J||n.g==t)&&wa(n),!ma(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const u=l[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=l[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Th(i,i.h),i.h=null))}if(s.D){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(s.za=y,Oe(s.F,s.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=t;if(s.sa=$_(s,s.H?s.ka:null,s.V),o.J){w_(s.h,o);var a=o,c=s.J;c&&a.setTimeout(c),a.B&&(oc(a),to(a)),s.g=o}else R_(s);0<n.i.length&&hc(n)}else l[0]!="stop"&&l[0]!="close"||ps(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ps(n,7):Ch(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}Ni(4)}catch{}}function wD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xa(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function bD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xa(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function d_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xa(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=bD(t),s=wD(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var p_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Es(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=e!==void 0?e:t.h,va(this,t.j),this.s=t.s,this.g=t.g,Ea(this,t.m),this.l=t.l,e=t.i;var n=new Oi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hp(this,n),this.o=t.o}else t&&(n=String(t).match(p_))?(this.h=!!e,va(this,n[1]||"",!0),this.s=ei(n[2]||""),this.g=ei(n[3]||"",!0),Ea(this,n[4]),this.l=ei(n[5]||"",!0),hp(this,n[6]||"",!0),this.o=ei(n[7]||"")):(this.h=!!e,this.i=new Oi(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ti(e,fp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ti(e,fp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ti(n,n.charAt(0)=="/"?SD:AD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ti(n,ND)),t.join("")};function En(t){return new Es(t)}function va(t,e,n){t.j=n?ei(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ea(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hp(t,e,n){e instanceof Oi?(t.i=e,OD(t.i,t.h)):(n||(e=ti(e,CD)),t.i=new Oi(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function ac(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ei(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ti(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ID),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ID(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fp=/[#\/\?@]/g,AD=/[#\?:]/g,SD=/[#\?]/g,CD=/[#\?@]/g,ND=/#/g;function Oi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&TD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=Oi.prototype;F.add=function(t,e){ss(this),this.i=null,t=$r(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function g_(t,e){ss(t),e=$r(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function m_(t,e){return ss(t),e=$r(t,e),t.g.has(e)}F.forEach=function(t,e){ss(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};F.oa=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};F.W=function(t){ss(this);let e=[];if(typeof t=="string")m_(this,t)&&(e=e.concat(this.g.get($r(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return ss(this),this.i=null,t=$r(this,t),m_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function y_(t,e,n){g_(t,e),0<n.length&&(t.i=null,t.g.set($r(t,e),uh(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function $r(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OD(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(g_(this,s),y_(this,r,n))},t)),t.j=e}var DD=class{constructor(e,n){this.h=e,this.g=n}};function __(t){this.l=t||kD,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kD=10;function v_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function E_(t){return t.h?1:t.g?t.g.size:0}function eu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Th(t,e){t.g?t.g.add(e):t.h=e}function w_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}__.prototype.cancel=function(){if(this.i=b_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function b_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return uh(t.i)}function Ih(){}Ih.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)};Ih.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};function RD(){this.g=new Ih}function LD(t,e,n){const s=n||"";try{d_(t,function(r,i){let o=r;Qi(r)&&(o=yh(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function xD(t,e){const n=new nc;if(Q.Image){const s=new Image;s.onload=Lo(Mo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Lo(Mo,n,s,"TestLoadImage: error",!1,e),s.onabort=Lo(Mo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Lo(Mo,n,s,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Mo(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function no(t){this.l=t.ac||null,this.j=t.jb||!1}Qe(no,Eh);no.prototype.g=function(){return new cc(this.l,this.j)};no.prototype.i=function(t){return function(){return t}}({});function cc(t,e){We.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ah,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(cc,We);var Ah=0;F=cc.prototype;F.open=function(t,e){if(this.readyState!=Ah)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Di(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,so(this)),this.readyState=Ah};F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function T_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?so(this):Di(this),this.readyState==3&&T_(this)}};F.Va=function(t){this.g&&(this.response=this.responseText=t,so(this))};F.Ua=function(t){this.g&&(this.response=t,so(this))};F.ga=function(){this.g&&so(this)};function so(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Di(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Di(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var MD=Q.JSON.parse;function Le(t){We.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=I_,this.K=this.L=!1}Qe(Le,We);var I_="",PD=/^https?$/i,$D=["POST","PUT"];F=Le.prototype;F.Ka=function(t){this.L=t};F.da=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ql.g(),this.C=this.u?up(this.u):up(Ql),this.g.onreadystatechange=rt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){dp(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=Fy($D,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{C_(this),0<this.B&&((this.K=VD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.qa,this)):this.A=vh(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){dp(this,i)}};function VD(t){return wr&&tD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.qa=function(){typeof lh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function dp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,A_(t),lc(t)}function A_(t){t.D||(t.D=!0,Ye(t,"complete"),Ye(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),lc(this))};F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lc(this,!0)),Le.X.M.call(this)};F.Ha=function(){this.s||(this.F||this.v||this.l?S_(this):this.fb())};F.fb=function(){S_(this)};function S_(t){if(t.h&&typeof lh<"u"&&(!t.C[1]||hn(t)!=4||t.aa()!=2)){if(t.v&&hn(t)==4)vh(t.Ha,0,t);else if(Ye(t,"readystatechange"),hn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(p_)[1]||null;if(!r&&Q.self&&Q.self.location){var i=Q.self.location.protocol;r=i.substr(0,i.length-1)}s=!PD.test(r?r.toLowerCase():"")}n=s}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var o=2<hn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",A_(t)}}finally{lc(t)}}}}function lc(t,e){if(t.g){C_(t);const n=t.g,s=t.C[0]?ga:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=s}catch{}}}function C_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function hn(t){return t.g?t.g.readyState:0}F.aa=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}};F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),MD(e)}};function pp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case I_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}F.Ea=function(){return this.m};F.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function N_(t){let e="";return fh(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Sh(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=N_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function Qr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function O_(t){this.Ca=0,this.i=[],this.j=new nc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Qr("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Qr("baseRetryDelayMs",5e3,t),this.bb=Qr("retryDelaySeedMs",1e4,t),this.$a=Qr("forwardChannelMaxRetries",2,t),this.ta=Qr("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new __(t&&t.concurrentRequestLimit),this.Fa=new RD,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}F=O_.prototype;F.ma=8;F.G=1;function Ch(t){if(D_(t),t.G==3){var e=t.U++,n=En(t.F);Oe(n,"SID",t.I),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),ro(t,n),e=new eo(t,t.j,e,void 0),e.K=2,e.v=ac(En(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&(new Image().src=e.v,n=!0),n||(e.g=V_(e.l,null),e.g.da(e.v)),e.F=Date.now(),to(e)}P_(t)}function uc(t){t.g&&(Oh(t),t.g.cancel(),t.g=null)}function D_(t){uc(t),t.u&&(Q.clearTimeout(t.u),t.u=null),wa(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function hc(t){v_(t.h)||t.m||(t.m=!0,Jy(t.Ja,t),t.C=0)}function UD(t,e){return E_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ji(rt(t.Ja,t,e),M_(t,t.C)),t.C++,!0)}F.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new eo(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=qy(i),zy(i,this.S)):i=this.S),this.o!==null||this.N||(r.H=i,i=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=k_(this,r,e),n=En(this.F),Oe(n,"RID",t),Oe(n,"CVER",22),this.D&&Oe(n,"X-HTTP-Session-Id",this.D),ro(this,n),i&&(this.N?e="headers="+encodeURIComponent(String(N_(i)))+"&"+e:this.o&&Sh(n,this.o,i)),Th(this.h,r),this.Ya&&Oe(n,"TYPE","init"),this.O?(Oe(n,"$req",e),Oe(n,"SID","null"),r.Z=!0,Jl(r,n,null)):Jl(r,n,e),this.G=2}}else this.G==3&&(t?gp(this,t):this.i.length==0||v_(this.h)||gp(this))};function gp(t,e){var n;e?n=e.m:n=t.U++;const s=En(t.F);Oe(s,"SID",t.I),Oe(s,"RID",n),Oe(s,"AID",t.T),ro(t,s),t.o&&t.s&&Sh(s,t.o,t.s),n=new eo(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=k_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Th(t.h,n),Jl(n,s,e)}function ro(t,e){t.ia&&fh(t.ia,function(n,s){Oe(e,s,n)}),t.l&&d_({},function(n,s){Oe(e,s,n)})}function k_(t,e,n){n=Math.min(t.i.length,n);var s=t.l?rt(t.l.Ra,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{LD(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,s}function R_(t){t.g||t.u||(t.Z=1,Jy(t.Ia,t),t.A=0)}function Nh(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ji(rt(t.Ia,t),M_(t,t.A)),t.A++,!0)}F.Ia=function(){if(this.u=null,L_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ji(rt(this.eb,this),t)}};F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ft(10),uc(this),L_(this))};function Oh(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function L_(t){t.g=new eo(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=En(t.sa);Oe(e,"RID","rpc"),Oe(e,"SID",t.I),Oe(e,"CI",t.L?"0":"1"),Oe(e,"AID",t.T),Oe(e,"TYPE","xmlhttp"),ro(t,e),t.o&&t.s&&Sh(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ac(En(e)),n.s=null,n.P=!0,l_(n,t)}F.cb=function(){this.v!=null&&(this.v=null,uc(this),Nh(this),ft(19))};function wa(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function x_(t,e){var n=null;if(t.g==e){wa(t),Oh(t),t.g=null;var s=2}else if(eu(t.h,e))n=e.D,w_(t.h,e),s=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=sc(),Ye(s,new i_(s,n)),hc(t)}else R_(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(s==1&&UD(t,e)||s==2&&Nh(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:ps(t,5);break;case 4:ps(t,10);break;case 3:ps(t,6);break;default:ps(t,2)}}}function M_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ps(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=rt(t.kb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||va(n,"https"),ac(n)),xD(n.toString(),s)}else ft(2);t.G=0,t.l&&t.l.va(e),P_(t),D_(t)}F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function P_(t){if(t.G=0,t.la=[],t.l){const e=b_(t.h);(e.length!=0||t.i.length!=0)&&(rp(t.la,e),rp(t.la,t.i),t.h.i.length=0,uh(t.i),t.i.length=0),t.l.ua()}}function $_(t,e,n){var s=n instanceof Es?En(n):new Es(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),Ea(s,s.m);else{var r=Q.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new Es(null,void 0);s&&va(i,s),e&&(i.g=e),r&&Ea(i,r),n&&(i.l=n),s=i}return n=t.D,e=t.za,n&&e&&Oe(s,n,e),Oe(s,"VER",t.ma),ro(t,s),s}function V_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Le(new no({jb:!0})):new Le(t.ra),e.Ka(t.H),e}function U_(){}F=U_.prototype;F.xa=function(){};F.wa=function(){};F.va=function(){};F.ua=function(){};F.Ra=function(){};function ba(){if(wr&&!(10<=Number(nD)))throw Error("Environmental error: no available transport.")}ba.prototype.g=function(t,e){return new Ct(t,e)};function Ct(t,e){We.call(this),this.g=new O_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ma(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vr(this)}Qe(Ct,We);Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ft(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=$_(t,null,t.V),hc(t)};Ct.prototype.close=function(){Ch(this.g)};Ct.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=yh(t),t=n);e.i.push(new DD(e.ab++,t)),e.G==3&&hc(e)};Ct.prototype.M=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,Ct.X.M.call(this)};function F_(t){wh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qe(F_,wh);function B_(){bh.call(this),this.status=1}Qe(B_,bh);function Vr(t){this.g=t}Qe(Vr,U_);Vr.prototype.xa=function(){Ye(this.g,"a")};Vr.prototype.wa=function(t){Ye(this.g,new F_(t))};Vr.prototype.va=function(t){Ye(this.g,new B_)};Vr.prototype.ua=function(){Ye(this.g,"b")};ba.prototype.createWebChannel=ba.prototype.g;Ct.prototype.send=Ct.prototype.u;Ct.prototype.open=Ct.prototype.m;Ct.prototype.close=Ct.prototype.close;rc.NO_ERROR=0;rc.TIMEOUT=8;rc.HTTP_ERROR=6;o_.COMPLETE="complete";a_.EventType=Zi;Zi.OPEN="a";Zi.CLOSE="b";Zi.ERROR="c";Zi.MESSAGE="d";We.prototype.listen=We.prototype.N;Le.prototype.listenOnce=Le.prototype.O;Le.prototype.getLastError=Le.prototype.Oa;Le.prototype.getLastErrorCode=Le.prototype.Ea;Le.prototype.getStatus=Le.prototype.aa;Le.prototype.getResponseJson=Le.prototype.Sa;Le.prototype.getResponseText=Le.prototype.fa;Le.prototype.send=Le.prototype.da;Le.prototype.setWithCredentials=Le.prototype.Ka;var FD=function(){return new ba},BD=function(){return sc()},dl=rc,jD=o_,HD=xs,mp={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qD=no,Po=a_,zD=Le;const yp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new oh("@firebase/firestore");function _p(){return Ns.logLevel}function H(t,...e){if(Ns.logLevel<=ge.DEBUG){const n=e.map(Dh);Ns.debug(`Firestore (${Ur}): ${t}`,...n)}}function wn(t,...e){if(Ns.logLevel<=ge.ERROR){const n=e.map(Dh);Ns.error(`Firestore (${Ur}): ${t}`,...n)}}function tu(t,...e){if(Ns.logLevel<=ge.WARN){const n=e.map(Dh);Ns.warn(`Firestore (${Ur}): ${t}`,...n)}}function Dh(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: `+t;throw wn(e),new Error(e)}function Ie(t,e){t||Y()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class WD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ws,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string"),new j_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Je(e)}}class YD{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ie(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class QD{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new YD(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.A=n.token,new XD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=ZD(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function me(t,e){return t<e?-1:t>e?1:0}function br(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Fe(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Fe(0,0))}static max(){return new J(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Y(),s===void 0?s=e.length-n:s>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends ki{construct(e,n,s){return new Ce(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new $(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends ki{construct(e,n,s){return new nt(e,n,s)}static isValidIdentifier(e){return ek.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new $(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new $(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new $(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(Ce.fromString(e))}static fromName(e){return new q(Ce.fromString(e).popFirst(5))}static empty(){return new q(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Ce(e.slice()))}}function tk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new Qn(r,q.empty(),e)}function nk(t){return new Qn(t.readTime,t.key,-1)}class Qn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qn(J.min(),q.empty(),-1)}static max(){return new Qn(J.max(),q.empty(),-1)}}function sk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==rk)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,s)=>{n(e)})}static reject(e){return new C((n,s)=>{s(e)})}static waitFor(e){return new C((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=C.resolve(!1);for(const s of e)n=n.next(r=>r?C.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new C((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new C((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function oo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}kh.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Ri{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ri("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ri&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){return t==null}function Ta(t){return t===0&&1/t==-1/0}function ak(t){return typeof t=="number"&&Number.isInteger(t)&&!Ta(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new at(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=ck.exec(t);if(Ie(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function K_(t){const e=t.mapValue.fields.__previous_value__;return z_(e)?K_(e):e}function Li(t){const e=Xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?z_(t)?4:lk(t)?9007199254740991:10:Y()}function on(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Li(t).isEqual(Li(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Xn(s.timestampValue),o=Xn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Tr(s.bytesValue).isEqual(Tr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return $e(s.geoPointValue.latitude)===$e(r.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return $e(s.integerValue)===$e(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=$e(s.doubleValue),o=$e(r.doubleValue);return i===o?Ta(i)===Ta(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return br(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(vp(i)!==vp(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!on(i[a],o[a])))return!1;return!0}(t,e);default:return Y()}}function xi(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function Ir(t,e){if(t===e)return 0;const n=Os(t),s=Os(e);if(n!==s)return me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=$e(r.integerValue||r.doubleValue),a=$e(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Ep(t.timestampValue,e.timestampValue);case 4:return Ep(Li(t),Li(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Tr(r),a=Tr(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=me(o[c],a[c]);if(l!==0)return l}return me(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=me($e(r.latitude),$e(i.latitude));return o!==0?o:me($e(r.longitude),$e(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Ir(o[c],a[c]);if(l)return l}return me(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===$o.mapValue&&i===$o.mapValue)return 0;if(r===$o.mapValue)return 1;if(i===$o.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=me(a[u],l[u]);if(h!==0)return h;const f=Ir(o[a[u]],c[l[u]]);if(f!==0)return f}return me(a.length,l.length)}(t.mapValue,e.mapValue);default:throw Y()}}function Ep(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Xn(t),s=Xn(e),r=me(n.seconds,s.seconds);return r!==0?r:me(n.nanos,s.nanos)}function Ar(t){return nu(t)}function nu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Xn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Tr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=nu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${nu(s.fields[a])}`;return i+"}"}(t.mapValue):Y();var e,n}function wp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function su(t){return!!t&&"integerValue"in t}function Rh(t){return!!t&&"arrayValue"in t}function bp(t){return!!t&&"nullValue"in t}function Tp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Go(t){return!!t&&"mapValue"in t}function fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=fi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.position=e,this.inclusive=n}}function Ip(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=q.comparator(q.fromName(o.referenceValue),n.key):s=Ir(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ap(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{}class Ve extends W_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hk(e,n,s):n==="array-contains"?new pk(e,s):n==="in"?new gk(e,s):n==="not-in"?new mk(e,s):n==="array-contains-any"?new yk(e,s):new Ve(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fk(e,s):new dk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ir(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Ir(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ht extends W_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ht(e,n)}matches(e){return G_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function G_(t){return t.op==="and"}function Y_(t){return uk(t)&&G_(t)}function uk(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function ru(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Ar(t.value);if(Y_(t))return t.filters.map(e=>ru(e)).join(",");{const e=t.filters.map(n=>ru(n)).join(",");return`${t.op}(${e})`}}function Q_(t,e){return t instanceof Ve?function(n,s){return s instanceof Ve&&n.op===s.op&&n.field.isEqual(s.field)&&on(n.value,s.value)}(t,e):t instanceof Ht?function(n,s){return s instanceof Ht&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&Q_(i,s.filters[o]),!0):!1}(t,e):void Y()}function X_(t){return t instanceof Ve?function(e){return`${e.field.canonicalString()} ${e.op} ${Ar(e.value)}`}(t):t instanceof Ht?function(e){return e.op.toString()+" {"+e.getFilters().map(X_).join(" ,")+"}"}(t):"Filter"}class hk extends Ve{constructor(e,n,s){super(e,n,s),this.key=q.fromName(s.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class fk extends Ve{constructor(e,n){super(e,"in",n),this.keys=J_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dk extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=J_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>q.fromName(s.referenceValue))}class pk extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rh(n)&&xi(n.arrayValue,this.value)}}class gk extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xi(this.value.arrayValue,n)}}class mk extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xi(this.value.arrayValue,n)}}class yk extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n="asc"){this.field=e,this.dir=n}}function _k(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Ge.RED,this.left=r??Ge.EMPTY,this.right=i??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Ge(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(e){return new Sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class Sp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Tt([])}unionWith(e){let n=new Be(nt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Go(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fi(n)}setAll(e){let n=nt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=fi(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Go(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Go(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ms(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new _t(fi(this.value))}}function Z_(t){const e=[];return Ms(t.fields,(n,s)=>{const r=new nt([n]);if(Go(s)){const i=Z_(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Tt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ze(e,0,J.min(),J.min(),J.min(),_t.empty(),0)}static newFoundDocument(e,n,s,r){return new Ze(e,1,n,J.min(),s,r,0)}static newNoDocument(e,n){return new Ze(e,2,n,J.min(),J.min(),_t.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,J.min(),J.min(),_t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ft=null}}function Cp(t,e=null,n=[],s=[],r=null,i=null,o=null){return new vk(t,e,n,s,r,i,o)}function Lh(t){const e=te(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ru(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ar(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ar(s)).join(",")),e.ft=n}return e.ft}function xh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_k(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ap(t.startAt,e.startAt)&&Ap(t.endAt,e.endAt)}function iu(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}}function Ek(t,e,n,s,r,i,o,a){return new Fr(t,e,n,s,r,i,o,a)}function Mh(t){return new Fr(t)}function Np(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ph(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function dc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ev(t){return t.collectionGroup!==null}function sr(t){const e=te(t);if(e.dt===null){e.dt=[];const n=dc(e),s=Ph(e);if(n!==null&&s===null)n.isKeyField()||e.dt.push(new nr(n)),e.dt.push(new nr(nt.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.dt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new nr(nt.keyField(),i))}}}return e.dt}function bn(t){const e=te(t);if(!e._t)if(e.limitType==="F")e._t=Cp(e.path,e.collectionGroup,sr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of sr(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new nr(i.field,o))}const s=e.endAt?new Ia(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ia(e.startAt.position,e.startAt.inclusive):null;e._t=Cp(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function ou(t,e){e.getFirstInequalityField(),dc(t);const n=t.filters.concat([e]);return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function au(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pc(t,e){return xh(bn(t),bn(e))&&t.limitType===e.limitType}function tv(t){return`${Lh(bn(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>X_(s)).join(", ")}]`),fc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ar(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ar(s)).join(",")),`Target(${n})`}(bn(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):q.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of sr(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Ip(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,sr(n),s)||n.endAt&&!function(r,i,o){const a=Ip(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,sr(n),s))}(t,e)}function wk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nv(t){return(e,n)=>{let s=!1;for(const r of sr(t)){const i=bk(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function bk(t,e,n){const s=t.field.isKeyField()?q.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Ir(a,c):Y()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ta(e)?"-0":e}}function rv(t){return{integerValue:""+t}}function Tk(t,e){return ak(e)?rv(e):sv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function Ik(t,e,n){return t instanceof Mi?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Pi?ov(t,e):t instanceof $i?av(t,e):function(s,r){const i=iv(s,r),o=Op(i)+Op(s.gt);return su(i)&&su(s.gt)?rv(o):sv(s.yt,o)}(t,e)}function Ak(t,e,n){return t instanceof Pi?ov(t,e):t instanceof $i?av(t,e):n}function iv(t,e){return t instanceof Aa?su(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Mi extends gc{}class Pi extends gc{constructor(e){super(),this.elements=e}}function ov(t,e){const n=cv(e);for(const s of t.elements)n.some(r=>on(r,s))||n.push(s);return{arrayValue:{values:n}}}class $i extends gc{constructor(e){super(),this.elements=e}}function av(t,e){let n=cv(e);for(const s of t.elements)n=n.filter(r=>!on(r,s));return{arrayValue:{values:n}}}class Aa extends gc{constructor(e,n){super(),this.yt=e,this.gt=n}}function Op(t){return $e(t.integerValue||t.doubleValue)}function cv(t){return Rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.field=e,this.transform=n}}function Ck(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Pi&&s instanceof Pi||n instanceof $i&&s instanceof $i?br(n.elements,s.elements,on):n instanceof Aa&&s instanceof Aa?on(n.gt,s.gt):n instanceof Mi&&s instanceof Mi}(t.transform,e.transform)}class Nk{constructor(e,n){this.version=e,this.transformResults=n}}class Bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mc{}function lv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vh(t.key,Bt.none()):new ao(t.key,t.data,Bt.none());{const n=t.data,s=_t.empty();let r=new Be(nt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new rs(t.key,s,new Tt(r.toArray()),Bt.none())}}function Ok(t,e,n){t instanceof ao?function(s,r,i){const o=s.value.clone(),a=kp(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(s,r,i){if(!Yo(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=kp(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(uv(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function di(t,e,n,s){return t instanceof ao?function(r,i,o,a){if(!Yo(r.precondition,i))return o;const c=r.value.clone(),l=Rp(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof rs?function(r,i,o,a){if(!Yo(r.precondition,i))return o;const c=Rp(r.fieldTransforms,a,i),l=i.data;return l.setAll(uv(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Yo(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function Dk(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=iv(s.transform,r||null);i!=null&&(n===null&&(n=_t.empty()),n.set(s.field,i))}return n||null}function Dp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&br(n,s,(r,i)=>Ck(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ao extends mc{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rs extends mc{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function kp(t,e,n){const s=new Map;Ie(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,Ak(o,a,n[r]))}return s}function Rp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Ik(i,o,e))}return s}class Vh extends mc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends mc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ue;function Lk(t){switch(t){default:return Y();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function hv(t){if(t===void 0)return wn("GRPC error has no .code"),b.UNKNOWN;switch(t){case Pe.OK:return b.OK;case Pe.CANCELLED:return b.CANCELLED;case Pe.UNKNOWN:return b.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return b.INTERNAL;case Pe.UNAVAILABLE:return b.UNAVAILABLE;case Pe.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Pe.NOT_FOUND:return b.NOT_FOUND;case Pe.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Pe.ABORTED:return b.ABORTED;case Pe.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Pe.DATA_LOSS:return b.DATA_LOSS;default:return Y()}}(ue=Pe||(Pe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new qe(q.comparator);function Tn(){return xk}const fv=new qe(q.comparator);function ni(...t){let e=fv;for(const n of t)e=e.insert(n.key,n);return e}function dv(t){let e=fv;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function gs(){return pi()}function pv(){return pi()}function pi(){return new Br(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mk=new qe(q.comparator),Pk=new Be(q.comparator);function ce(...t){let e=Pk;for(const n of t)e=e.add(n);return e}const $k=new Be(me);function gv(){return $k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yc(J.min(),r,gv(),Tn(),ce())}}class co{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new co(s,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,s,r){this.It=e,this.removedTargetIds=n,this.key=s,this.Tt=r}}class mv{constructor(e,n){this.targetId=e,this.Et=n}}class yv{constructor(e,n,s=at.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Lp{constructor(){this.At=0,this.Rt=Mp(),this.bt=at.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ce(),n=ce(),s=ce();return this.Rt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Y()}}),new co(this.bt,this.Pt,e,n,s)}xt(){this.vt=!1,this.Rt=Mp()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Vk{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Tn(),this.qt=xp(),this.Ut=new Be(me)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const s=this.Wt(n);switch(e.state){case 0:this.zt(n)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),s.Dt(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((s,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,s=e.Et.count,r=this.Yt(n);if(r){const i=r.target;if(iu(i))if(s===0){const o=new q(i.path);this.Qt(n,o,Ze.newNoDocument(o,J.min()))}else Ie(s===1);else this.Xt(n)!==s&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((i,o)=>{const a=this.Yt(o);if(a){if(i.current&&iu(a.target)){const c=new q(a.target.path);this.Lt.get(c)!==null||this.te(o,c)||this.Qt(o,c,Ze.newNoDocument(c,e))}i.St&&(n.set(o,i.Ct()),i.xt())}});let s=ce();this.qt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Yt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Lt.forEach((i,o)=>o.setReadTime(e));const r=new yc(e,n,this.Ut,this.Lt,s);return this.Lt=Tn(),this.qt=xp(),this.Ut=new Be(me),r}Gt(e,n){if(!this.zt(e))return;const s=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,s),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,s){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),s&&(this.Lt=this.Lt.insert(n,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new Lp,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Be(me),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Lp),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function xp(){return new qe(q.comparator)}function Mp(){return new qe(q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Fk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Bk=(()=>({and:"AND",or:"OR"}))();class jk{constructor(e,n){this.databaseId=e,this.wt=n}}function Sa(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _v(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Hk(t,e){return Sa(t,e.toTimestamp())}function tn(t){return Ie(!!t),J.fromTimestamp(function(e){const n=Xn(e);return new Fe(n.seconds,n.nanos)}(t))}function Uh(t,e){return function(n){return new Ce(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function vv(t){const e=Ce.fromString(t);return Ie(Tv(e)),e}function lu(t,e){return Uh(t.databaseId,e.path)}function pl(t,e){const n=vv(e);if(n.get(1)!==t.databaseId.projectId)throw new $(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(Ev(n))}function uu(t,e){return Uh(t.databaseId,e)}function qk(t){const e=vv(t);return e.length===4?Ce.emptyPath():Ev(e)}function hu(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ev(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Pp(t,e,n){return{name:lu(t,e),fields:n.value.mapValue.fields}}function zk(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.wt?(Ie(l===void 0||typeof l=="string"),at.fromBase64String(l||"")):(Ie(l===void 0||l instanceof Uint8Array),at.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?b.UNKNOWN:hv(c.code);return new $(l,c.message||"")}(o);n=new yv(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=pl(t,s.document.name),i=tn(s.document.updateTime),o=s.document.createTime?tn(s.document.createTime):J.min(),a=new _t({mapValue:{fields:s.document.fields}}),c=Ze.newFoundDocument(r,i,o,a),l=s.targetIds||[],u=s.removedTargetIds||[];n=new Qo(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=pl(t,s.document),i=s.readTime?tn(s.readTime):J.min(),o=Ze.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Qo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=pl(t,s.document),i=s.removedTargetIds||[];n=new Qo([],i,r,null)}else{if(!("filter"in e))return Y();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new Rk(r),o=s.targetId;n=new mv(o,i)}}return n}function Kk(t,e){let n;if(e instanceof ao)n={update:Pp(t,e.key,e.value)};else if(e instanceof Vh)n={delete:lu(t,e.key)};else if(e instanceof rs)n={update:Pp(t,e.key,e.data),updateMask:tR(e.fieldMask)};else{if(!(e instanceof kk))return Y();n={verify:lu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Mi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Pi)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $i)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Aa)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw Y()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Hk(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Y()}(t,e.precondition)),n}function Wk(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?tn(s.updateTime):tn(r);return i.isEqual(J.min())&&(i=tn(r)),new Nk(i,s.transformResults||[])}(n,e))):[]}function Gk(t,e){return{documents:[uu(t,e.path)]}}function Yk(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=uu(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uu(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return bv(Ht.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:Ks(u.field),direction:Jk(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.wt||fc(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Qk(t){let e=qk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ie(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=wv(u);return h instanceof Ht&&Y_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new nr(Ws(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,fc(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,f=u.values||[];return new Ia(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new Ia(f,h)}(n.endAt)),Ek(e,r,o,i,a,"F",c,l)}function Xk(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function wv(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ws(e.unaryFilter.field);return Ve.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ws(e.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ws(e.unaryFilter.field);return Ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ws(e.unaryFilter.field);return Ve.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(e){return Ve.create(Ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ht.create(e.compositeFilter.filters.map(n=>wv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Y()}}(e.compositeFilter.op))}(t):Y()}function Jk(t){return Uk[t]}function Zk(t){return Fk[t]}function eR(t){return Bk[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Ws(t){return nt.fromServerFormat(t.fieldPath)}function bv(t){return t instanceof Ve?function(e){if(e.op==="=="){if(Tp(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NAN"}};if(bp(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Tp(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NAN"}};if(bp(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(e.field),op:Zk(e.op),value:e.value}}}(t):t instanceof Ht?function(e){const n=e.getFilters().map(s=>bv(s));return n.length===1?n[0]:{compositeFilter:{op:eR(e.op),filters:n}}}(t):Y()}function tR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Ok(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=di(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=di(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pv();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=lv(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(J.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(n,s)=>Dp(n,s))&&br(this.baseMutations,e.baseMutations,(n,s)=>Dp(n,s))}}class Fh{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ie(e.mutations.length===s.length);let r=Mk;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Fh(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s,r,i=J.min(),o=J.min(),a=at.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.ie=e}}function iR(t){const e=Qk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?au(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.Je=new aR}addToCollectionParentIndex(e,n){return this.Je.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Qn.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Qn.min())}updateCollectionGroup(e,n,s){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class aR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Be(Ce.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Be(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Sr(0)}static vn(){return new Sr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.changes=new Br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?C.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&di(s.mutation,r,Tt.empty(),Fe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ce()){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=ni();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ce()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Tn();const o=pi(),a=pi();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof rs)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),di(u.mutation,l,u.mutation.getFieldMask(),Fe.now())):o.set(l.key,Tt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new lR(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=pi();let r=new qe((o,a)=>o-a),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||Tt.empty();u=a.applyToLocalView(l,u),s.set(c,u);const h=(r.get(a.batchId)||ce()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=pv();u.forEach(f=>{if(!i.has(f)){const p=lv(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return C.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return q.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ev(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):C.resolve(gs());let a=-1,c=i;return o.next(l=>C.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,ce())).next(u=>({batchId:a,changes:dv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(s=>{let r=ni();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=ni();return this.indexManager.getCollectionParents(e,r).next(o=>C.forEach(o,a=>{const c=function(l,u){return new Fr(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,c)=>{const l=c.getKey();r.get(l)===null&&(r=r.insert(l,Ze.newInvalidDocument(l)))});let o=ni();return r.forEach((a,c)=>{const l=i.get(a);l!==void 0&&di(l.mutation,c,Tt.empty(),Fe.now()),$h(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return C.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:tn(s.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(s){return{name:s.name,query:iR(s.bundledQuery),readTime:tn(s.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.overlays=new qe(q.comparator),this.es=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const s=gs();return C.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.oe(e,n,i)}),C.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.es.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.es.delete(s)),C.resolve()}getOverlaysForCollection(e,n,s){const r=gs(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return C.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new qe((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=gs(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=gs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return C.resolve(a)}oe(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(s.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new sR(n,s));let i=this.es.get(n);i===void 0&&(i=ce(),this.es.set(n,i)),this.es.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.ns=new Be(ze.ss),this.rs=new Be(ze.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const s=new ze(e,n);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.cs(new ze(e,n))}hs(e,n){e.forEach(s=>this.removeReference(s,n))}ls(e){const n=new q(new Ce([])),s=new ze(n,e),r=new ze(n,e+1),i=[];return this.rs.forEachInRange([s,r],o=>{this.cs(o),i.push(o.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new q(new Ce([])),s=new ze(n,e),r=new ze(n,e+1);let i=ce();return this.rs.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ze(e,0),s=this.ns.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return q.comparator(e.key,n.key)||me(e._s,n._s)}static os(e,n){return me(e._s,n._s)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Be(ze.ss)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nR(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ps(s),i=r<0?0:r;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ze(n,0),r=new ze(n,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([s,r],o=>{const a=this.ys(o._s);i.push(a)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Be(me);return n.forEach(r=>{const i=new ze(r,0),o=new ze(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([i,o],a=>{s=s.add(a._s)})}),C.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;q.isDocumentKey(i)||(i=i.child(""));const o=new ze(new q(i),0);let a=new Be(me);return this.gs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c._s)),!0)},o),C.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(s=>{const r=this.ys(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ie(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.gs;return C.forEach(n.mutations,r=>{const i=new ze(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,n){const s=new ze(n,0),r=this.gs.firstAfterOrEqual(s);return C.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.Es=e,this.docs=new qe(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return C.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let s=Tn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ze.newInvalidDocument(r))}),C.resolve(s)}getAllFromCollection(e,n,s){let r=Tn();const i=new q(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||sk(nk(c),s)<=0||(r=r.insert(c.key,c.mutableCopy()))}return C.resolve(r)}getAllFromCollectionGroup(e,n,s,r){Y()}As(e,n){return C.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new gR(this)}getSize(e){return C.resolve(this.size)}}class gR extends cR{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(s)}),C.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.persistence=e,this.Rs=new Br(n=>Lh(n),xh),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Bh,this.targetCount=0,this.vs=Sr.Pn()}forEachTarget(e,n){return this.Rs.forEach((s,r)=>n(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),C.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Sr(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Dn(n),C.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(i).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const s=this.Rs.get(n)||null;return C.resolve(s)}addMatchingKeys(e,n,s){return this.Ps.us(n,s),C.resolve()}removeMatchingKeys(e,n,s){this.Ps.hs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),C.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),C.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ps.ds(n);return C.resolve(s)}containsKey(e,n){return C.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new kh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new mR(this),this.indexManager=new oR,this.remoteDocumentCache=function(s){return new pR(s)}(s=>this.referenceDelegate.xs(s)),this.yt=new rR(n),this.Ns=new hR(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Vs[e.toKey()];return s||(s=new dR(n,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,s){H("MemoryPersistence","Starting transaction:",e);const r=new _R(this.Ss.next());return this.referenceDelegate.ks(),s(r).next(i=>this.referenceDelegate.Os(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ms(e,n){return C.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,n)))}}class _R extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class jh{constructor(e){this.persistence=e,this.Fs=new Bh,this.$s=null}static Bs(e){return new jh(e)}get Ls(){if(this.$s)return this.$s;throw Y()}addReference(e,n,s){return this.Fs.addReference(s,n),this.Ls.delete(s.toString()),C.resolve()}removeReference(e,n,s){return this.Fs.removeReference(s,n),this.Ls.add(s.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),C.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ls.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ls,s=>{const r=q.fromPath(s);return this.qs(e,r).next(i=>{i||n.removeEntry(r,J.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(s=>{s?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return C.or([()=>C.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Si=s,this.Di=r}static Ci(e,n){let s=ce(),r=ce();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hh(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.ki(e,n).next(i=>i||this.Oi(e,n,r,s)).next(i=>i||this.Mi(e,n))}ki(e,n){if(Np(n))return C.resolve(null);let s=bn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=au(n,null,"F"),s=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ce(...i);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.Fi(n,a);return this.$i(n,l,o,c.readTime)?this.ki(e,au(n,null,"F")):this.Bi(e,l,n,c)}))})))}Oi(e,n,s,r){return Np(n)||r.isEqual(J.min())?this.Mi(e,n):this.Ni.getDocuments(e,s).next(i=>{const o=this.Fi(n,i);return this.$i(n,o,s,r)?this.Mi(e,n):(_p()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cu(n)),this.Bi(e,o,n,tk(r,-1)))})}Fi(e,n){let s=new Be(nv(e));return n.forEach((r,i)=>{$h(e,i)&&(s=s.add(i))}),s}$i(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,n){return _p()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Ni.getDocumentsMatchingQuery(e,n,Qn.min())}Bi(e,n,s,r){return this.Ni.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,s,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new qe(me),this.Ui=new Br(i=>Lh(i),xh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function wR(t,e,n,s){return new ER(t,e,n,s)}async function Iv(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=ce();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}function bR(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let f=C.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(a,p)).next(m=>{const y=c.docVersions.get(p);Ie(y!==null),m.version.compareTo(y)<0&&(u.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),l.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=ce();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Av(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function TR(t,e){const n=te(t),s=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(at.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,y,w){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,u)&&a.push(n.Cs.updateTargetData(i,p))});let c=Tn(),l=ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(IR(i,o,e.documentUpdates).next(u=>{c=u.Wi,l=u.zi})),!s.isEqual(J.min())){const u=n.Cs.getLastRemoteSnapshotVersion(i).next(h=>n.Cs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return C.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.qi=r,i))}function IR(t,e,n){let s=ce(),r=ce();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Tn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Wi:o,zi:r}})}function AR(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function SR(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Cs.getTargetData(s,e).next(i=>i?(r=i,C.resolve(r)):n.Cs.allocateTargetId(s).next(o=>(r=new bs(e,o,0,s.currentSequenceNumber),n.Cs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.qi.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(s.targetId,s),n.Ui.set(e,s.targetId)),s})}async function fu(t,e,n){const s=te(t),r=s.qi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!oo(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.qi=s.qi.remove(e),s.Ui.delete(r.target)}function $p(t,e,n){const s=te(t);let r=J.min(),i=ce();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=te(a),h=u.Ui.get(l);return h!==void 0?C.resolve(u.qi.get(h)):u.Cs.getTargetData(c,l)}(s,o,bn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Li.getDocumentsMatchingQuery(o,e,n?r:J.min(),n?i:ce())).next(a=>(CR(s,wk(e),a),{documents:a,Hi:i})))}function CR(t,e,n){let s=t.Ki.get(e)||J.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Ki.set(e,s)}class Vp{constructor(){this.activeTargetIds=gv()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Lr=new Vp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,s){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Vp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,s,r,i){const o=this.ho(e,n);H("RestConnection","Sending: ",o,s);const a={};return this.lo(a,r,i),this.fo(e,o,a,s).then(c=>(H("RestConnection","Received: ",c),c),c=>{throw tu("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",s),c})}_o(e,n,s,r,i,o){return this.ao(e,n,s,r,i)}lo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ur,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}ho(e,n){const s=DR[e];return`${this.oo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,s,r){return new Promise((i,o)=>{const a=new zD;a.setWithCredentials(!0),a.listenOnce(jD.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case dl.NO_ERROR:const l=a.getResponseJson();H("Connection","XHR received:",JSON.stringify(l)),i(l);break;case dl.TIMEOUT:H("Connection",'RPC "'+e+'" timed out'),o(new $(b.DEADLINE_EXCEEDED,"Request time out"));break;case dl.HTTP_ERROR:const u=a.getStatus();if(H("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(y)>=0?y:b.UNKNOWN}(f.status);o(new $(p,f.message))}else o(new $(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $(b.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{H("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);a.send(n,"POST",c,s,15)})}wo(e,n,s){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=FD(),o=BD(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new qD({})),this.lo(a.initMessageHeaders,n,s),a.encodeInitMessageHeaders=!0;const c=r.join("");H("Connection","Creating WebChannel: "+c,a);const l=i.createWebChannel(c,a);let u=!1,h=!1;const f=new kR({Hr:m=>{h?H("Connection","Not sending because WebChannel is closed:",m):(u||(H("Connection","Opening WebChannel transport."),l.open(),u=!0),H("Connection","WebChannel sending:",m),l.send(m))},Jr:()=>l.close()}),p=(m,y,w)=>{m.listen(y,I=>{try{w(I)}catch(k){setTimeout(()=>{throw k},0)}})};return p(l,Po.EventType.OPEN,()=>{h||H("Connection","WebChannel transport opened.")}),p(l,Po.EventType.CLOSE,()=>{h||(h=!0,H("Connection","WebChannel transport closed"),f.io())}),p(l,Po.EventType.ERROR,m=>{h||(h=!0,tu("Connection","WebChannel transport errored:",m),f.io(new $(b.UNAVAILABLE,"The operation could not be completed")))}),p(l,Po.EventType.MESSAGE,m=>{var y;if(!h){const w=m.data[0];Ie(!!w);const I=w,k=I.error||((y=I[0])===null||y===void 0?void 0:y.error);if(k){H("Connection","WebChannel received error:",k);const R=k.status;let x=function(K){const se=Pe[K];if(se!==void 0)return hv(se)}(R),z=k.message;x===void 0&&(x=b.INTERNAL,z="Unknown error status: "+R+" with message "+k.message),h=!0,f.io(new $(x,z)),l.close()}else H("Connection","WebChannel received:",w),f.ro(w)}}),p(o,HD.STAT_EVENT,m=>{m.stat===mp.PROXY?H("Connection","Detected buffering proxy"):m.stat===mp.NOPROXY&&H("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function gl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){return new jk(t,!0)}class Sv{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=n,this.mo=s,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-s);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,s,r,i,o,a,c){this.Hs=e,this.vo=s,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Sv(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(wn(n.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.So===n&&this.Go(s,r)},s=>{e(()=>{const r=new $(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(r)})})}Go(e,n){const s=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{s(()=>this.Qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LR extends Cv{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.yt=i}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=zk(this.yt,e),s=function(r){if(!("targetChange"in r))return J.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?J.min():i.readTime?tn(i.readTime):J.min()}(e);return this.listener.Wo(n,s)}zo(e){const n={};n.database=hu(this.yt),n.addTarget=function(r,i){let o;const a=i.target;return o=iu(a)?{documents:Gk(r,a)}:{query:Yk(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=_v(r,i.resumeToken):i.snapshotVersion.compareTo(J.min())>0&&(o.readTime=Sa(r,i.snapshotVersion.toTimestamp())),o}(this.yt,e);const s=Xk(this.yt,e);s&&(n.labels=s),this.Bo(n)}Ho(e){const n={};n.database=hu(this.yt),n.removeTarget=e,this.Bo(n)}}class xR extends Cv{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=Wk(e.writeResults,e.commitTime),s=tn(e.commitTime);return this.listener.Zo(s,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=hu(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Kk(this.yt,s))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.yt=r,this.nu=!1}su(){if(this.nu)throw new $(b.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.ao(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(b.UNKNOWN,r.toString())})}_o(e,n,s,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection._o(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(b.UNKNOWN,i.toString())})}terminate(){this.nu=!0}}class PR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(wn(n),this.ou=!1):H("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur(o=>{s.enqueueAndForget(async()=>{Ps(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=te(a);c._u.add(4),await lo(c),c.gu.set("Unknown"),c._u.delete(4),await vc(c)}(this))})}),this.gu=new PR(s,r)}}async function vc(t){if(Ps(t))for(const e of t.wu)await e(!0)}async function lo(t){for(const e of t.wu)await e(!1)}function Nv(t,e){const n=te(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Kh(n)?zh(n):jr(n).ko()&&qh(n,e))}function Ov(t,e){const n=te(t),s=jr(n);n.du.delete(e),s.ko()&&Dv(n,e),n.du.size===0&&(s.ko()?s.Fo():Ps(n)&&n.gu.set("Unknown"))}function qh(t,e){t.yu.Ot(e.targetId),jr(t).zo(e)}function Dv(t,e){t.yu.Ot(e),jr(t).Ho(e)}function zh(t){t.yu=new Vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),jr(t).start(),t.gu.uu()}function Kh(t){return Ps(t)&&!jr(t).No()&&t.du.size>0}function Ps(t){return te(t)._u.size===0}function kv(t){t.yu=void 0}async function VR(t){t.du.forEach((e,n)=>{qh(t,e)})}async function UR(t,e){kv(t),Kh(t)?(t.gu.hu(e),zh(t)):t.gu.set("Unknown")}async function FR(t,e,n){if(t.gu.set("Online"),e instanceof yv&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.du.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.du.delete(o),s.yu.removeTarget(o))}(t,e)}catch(s){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ca(t,s)}else if(e instanceof Qo?t.yu.Kt(e):e instanceof mv?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(J.min()))try{const s=await Av(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.yu.Zt(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.du.get(c);l&&r.du.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r.du.get(a);if(!c)return;r.du.set(a,c.withResumeToken(at.EMPTY_BYTE_STRING,c.snapshotVersion)),Dv(r,a);const l=new bs(c.target,a,1,c.sequenceNumber);qh(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){H("RemoteStore","Failed to raise snapshot:",s),await Ca(t,s)}}async function Ca(t,e,n){if(!oo(e))throw e;t._u.add(1),await lo(t),t.gu.set("Offline"),n||(n=()=>Av(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await vc(t)})}function Rv(t,e){return e().catch(n=>Ca(t,n,e))}async function Ec(t){const e=te(t),n=Jn(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;BR(e);)try{const r=await AR(e.localStore,s);if(r===null){e.fu.length===0&&n.Fo();break}s=r.batchId,jR(e,r)}catch(r){await Ca(e,r)}Lv(e)&&xv(e)}function BR(t){return Ps(t)&&t.fu.length<10}function jR(t,e){t.fu.push(e);const n=Jn(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Lv(t){return Ps(t)&&!Jn(t).No()&&t.fu.length>0}function xv(t){Jn(t).start()}async function HR(t){Jn(t).eu()}async function qR(t){const e=Jn(t);for(const n of t.fu)e.Xo(n.mutations)}async function zR(t,e,n){const s=t.fu.shift(),r=Fh.from(s,e,n);await Rv(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ec(t)}async function KR(t,e){e&&Jn(t).Yo&&await async function(n,s){if(r=s.code,Lk(r)&&r!==b.ABORTED){const i=n.fu.shift();Jn(n).Mo(),await Rv(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ec(n)}var r}(t,e),Lv(t)&&xv(t)}async function Fp(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const s=Ps(n);n._u.add(3),await lo(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await vc(n)}async function WR(t,e){const n=te(t);e?(n._u.delete(2),await vc(n)):e||(n._u.add(2),await lo(n),n.gu.set("Unknown"))}function jr(t){return t.pu||(t.pu=function(e,n,s){const r=te(e);return r.su(),new LR(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,s)}(t.datastore,t.asyncQueue,{Yr:VR.bind(null,t),Zr:UR.bind(null,t),Wo:FR.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Kh(t)?zh(t):t.gu.set("Unknown")):(await t.pu.stop(),kv(t))})),t.pu}function Jn(t){return t.Iu||(t.Iu=function(e,n,s){const r=te(e);return r.su(),new xR(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,s)}(t.datastore,t.asyncQueue,{Yr:HR.bind(null,t),Zr:KR.bind(null,t),tu:qR.bind(null,t),Zo:zR.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Ec(t)):(await t.Iu.stop(),t.fu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Wh(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(t,e){if(wn("AsyncQueue",`${e}: ${t}`),oo(t))return new $(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e?(n,s)=>e(n,s)||q.comparator(n.key,s.key):(n,s)=>q.comparator(n.key,s.key),this.keyedMap=ni(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new rr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new rr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Tu=new qe(q.comparator)}track(e){const n=e.doc.key,s=this.Tu.get(n);s?e.type!==0&&s.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&s.type!==1?this.Tu=this.Tu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Tu=this.Tu.remove(n):e.type===1&&s.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Y():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Cr{constructor(e,n,s,r,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cr(e,n,rr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Au=void 0,this.listeners=[]}}class YR{constructor(){this.queries=new Br(e=>tv(e),pc),this.onlineState="Unknown",this.Ru=new Set}}async function QR(t,e){const n=te(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new GR),r)try{i.Au=await n.onListen(s)}catch(o){const a=Gh(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Au&&e.Pu(i.Au)&&Yh(n)}async function XR(t,e){const n=te(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function JR(t,e){const n=te(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Pu(r)&&(s=!0);o.Au=r}}s&&Yh(n)}function ZR(t,e,n){const s=te(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function Yh(t){t.Ru.forEach(e=>{e.next()})}class eL{constructor(e,n,s){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Nu||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.key=e}}class Pv{constructor(e){this.key=e}}class tL{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ce(),this.mutatedKeys=ce(),this.Gu=nv(e),this.Qu=new rr(this.Gu)}get ju(){return this.qu}Wu(e,n){const s=n?n.zu:new Bp,r=n?n.Qu:this.Qu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=$h(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(s.track({type:3,doc:p}),w=!0):this.Hu(f,p)||(s.track({type:2,doc:p}),w=!0,(c&&this.Gu(p,c)>0||l&&this.Gu(p,l)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),w=!0):f&&!p&&(s.track({type:1,doc:f}),w=!0,(c||l)&&(a=!0)),w&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Qu:o,zu:s,$i:a,mutatedKeys:i}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort((l,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return p(h)-p(f)}(l.type,u.type)||this.Gu(l.doc,u.doc)),this.Ju(s);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,c=a!==this.Uu;return this.Uu=a,i.length!==0||c?{snapshot:new Cr(this.query,e.Qu,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Bp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ce(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const n=[];return e.forEach(s=>{this.Ku.has(s)||n.push(new Pv(s))}),this.Ku.forEach(s=>{e.has(s)||n.push(new Mv(s))}),n}tc(e){this.qu=e.Hi,this.Ku=ce();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Cr.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class nL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sL{constructor(e){this.key=e,this.nc=!1}}class rL{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Br(a=>tv(a),pc),this.rc=new Map,this.oc=new Set,this.uc=new qe(q.comparator),this.cc=new Map,this.ac=new Bh,this.hc={},this.lc=new Map,this.fc=Sr.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function iL(t,e){const n=gL(t);let s,r;const i=n.ic.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.ec();else{const o=await SR(n.localStore,bn(e));n.isPrimaryClient&&Nv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await oL(n,e,s,a==="current",o.resumeToken)}return r}async function oL(t,e,n,s,r){t._c=(h,f,p)=>async function(m,y,w,I){let k=y.view.Wu(w);k.$i&&(k=await $p(m.localStore,y.query,!1).then(({documents:z})=>y.view.Wu(z,k)));const R=I&&I.targetChanges.get(y.targetId),x=y.view.applyChanges(k,m.isPrimaryClient,R);return Hp(m,y.targetId,x.Xu),x.snapshot}(t,h,f,p);const i=await $p(t.localStore,e,!0),o=new tL(e,i.Hi),a=o.Wu(i.documents),c=co.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);Hp(t,n,l.Xu);const u=new nL(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function aL(t,e){const n=te(t),s=n.ic.get(e),r=n.rc.get(s.targetId);if(r.length>1)return n.rc.set(s.targetId,r.filter(i=>!pc(i,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await fu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Ov(n.remoteStore,s.targetId),du(n,s.targetId)}).catch(io)):(du(n,s.targetId),await fu(n.localStore,s.targetId,!0))}async function cL(t,e,n){const s=mL(t);try{const r=await function(i,o){const a=te(i),c=Fe.now(),l=o.reduce((f,p)=>f.add(p.key),ce());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Tn(),m=ce();return a.Gi.getEntries(f,l).next(y=>{p=y,p.forEach((w,I)=>{I.isValidDocument()||(m=m.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(y=>{u=y;const w=[];for(const I of o){const k=Dk(I,u.get(I.key).overlayedDocument);k!=null&&w.push(new rs(I.key,k,Z_(k.value.mapValue),Bt.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,w,o)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:dv(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.hc[i.currentUser.toKey()];c||(c=new qe(me)),c=c.insert(o,a),i.hc[i.currentUser.toKey()]=c}(s,r.batchId,n),await uo(s,r.changes),await Ec(s.remoteStore)}catch(r){const i=Gh(r,"Failed to persist write");n.reject(i)}}async function $v(t,e){const n=te(t);try{const s=await TR(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.cc.get(i);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?Ie(o.nc):r.removedDocuments.size>0&&(Ie(o.nc),o.nc=!1))}),await uo(n,s,e)}catch(s){await io(s)}}function jp(t,e,n){const s=te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ic.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=te(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.bu(o)&&(c=!0)}),c&&Yh(a)}(s.eventManager,e),r.length&&s.sc.Wo(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lL(t,e,n){const s=te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.cc.get(e),i=r&&r.key;if(i){let o=new qe(q.comparator);o=o.insert(i,Ze.newNoDocument(i,J.min()));const a=ce().add(i),c=new yc(J.min(),new Map,new Be(me),o,a);await $v(s,c),s.uc=s.uc.remove(i),s.cc.delete(e),Qh(s)}else await fu(s.localStore,e,!1).then(()=>du(s,e,n)).catch(io)}async function uL(t,e){const n=te(t),s=e.batch.batchId;try{const r=await bR(n.localStore,e);Uv(n,s,null),Vv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uo(n,r)}catch(r){await io(r)}}async function hL(t,e,n){const s=te(t);try{const r=await function(i,o){const a=te(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(Ie(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,e);Uv(s,e,n),Vv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uo(s,r)}catch(r){await io(r)}}function Vv(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Uv(t,e,n){const s=te(t);let r=s.hc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.hc[s.currentUser.toKey()]=r}}function du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.rc.get(e))t.ic.delete(s),n&&t.sc.wc(s,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(s=>{t.ac.containsKey(s)||Fv(t,s)})}function Fv(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Ov(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Qh(t))}function Hp(t,e,n){for(const s of n)s instanceof Mv?(t.ac.addReference(s.key,e),fL(t,s)):s instanceof Pv?(H("SyncEngine","Document no longer in limbo: "+s.key),t.ac.removeReference(s.key,e),t.ac.containsKey(s.key)||Fv(t,s.key)):Y()}function fL(t,e){const n=e.key,s=n.path.canonicalString();t.uc.get(n)||t.oc.has(s)||(H("SyncEngine","New document in limbo: "+n),t.oc.add(s),Qh(t))}function Qh(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new q(Ce.fromString(e)),s=t.fc.next();t.cc.set(s,new sL(n)),t.uc=t.uc.insert(n,s),Nv(t.remoteStore,new bs(bn(Mh(n.path)),s,2,kh.at))}}async function uo(t,e,n){const s=te(t),r=[],i=[],o=[];s.ic.isEmpty()||(s.ic.forEach((a,c)=>{o.push(s._c(c,e,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const u=Hh.Ci(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.sc.Wo(r),await async function(a,c){const l=te(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>C.forEach(c,h=>C.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>C.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!oo(u))throw u;H("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.qi.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);l.qi=l.qi.insert(h,m)}}}(s.localStore,i))}async function dL(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const s=await Iv(n.localStore,e);n.currentUser=e,function(r,i){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new $(b.CANCELLED,i))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uo(n,s.ji)}}function pL(t,e){const n=te(t),s=n.cc.get(e);if(s&&s.nc)return ce().add(s.key);{let r=ce();const i=n.rc.get(e);if(!i)return r;for(const o of i){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function gL(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$v.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lL.bind(null,e),e.sc.Wo=JR.bind(null,e.eventManager),e.sc.wc=ZR.bind(null,e.eventManager),e}function mL(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hL.bind(null,e),e}class yL{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=_c(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return wR(this.persistence,new vR,e.initialUser,this.yt)}yc(e){return new yR(jh.Bs,this.yt)}gc(e){return new NR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _L{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dL.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new YR}createDatastore(e){const n=_c(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new RR(r));var r;return function(i,o,a,c){return new MR(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>jp(this.syncEngine,a,0),o=Up.C()?new Up:new OR,new $R(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new rL(s,r,i,o,a,c);return l&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=te(e);H("RemoteStore","RemoteStore shutting down."),n._u.add(5),await lo(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e,n){if(!n)throw new $(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vL(t,e,n,s){if(e===!0&&s===!0)throw new $(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qp(t){if(!q.isDocumentKey(t))throw new $(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zp(t){if(q.isDocumentKey(t))throw new $(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wc(t);throw new $(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map;class Wp{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wp(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new KD;switch(n.type){case"gapi":const s=n.client;return new QD(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Kp.get(e);n&&(H("ComponentProvider","Removing Datastore"),Kp.delete(e),n.terminate())}(this),Promise.resolve()}}function EL(t,e,n,s={}){var r;const i=(t=Hn(t,bc))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Je.MOCK_USER;else{o=TN(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new $(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Je(c)}t._authCredentials=new WD(new j_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}}class $s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class qn extends $s{constructor(e,n,s){super(e,n,Mh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new q(e))}withConverter(e){return new qn(this.firestore,e,this._path)}}function jv(t,e,...n){if(t=He(t),Bv("collection","path",e),t instanceof bc){const s=Ce.fromString(e,...n);return zp(s),new qn(t,null,s)}{if(!(t instanceof Et||t instanceof qn))throw new $(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ce.fromString(e,...n));return zp(s),new qn(t.firestore,null,s)}}function Xh(t,e,...n){if(t=He(t),arguments.length===1&&(e=H_.R()),Bv("doc","path",e),t instanceof bc){const s=Ce.fromString(e,...n);return qp(s),new Et(t,null,new q(s))}{if(!(t instanceof Et||t instanceof qn))throw new $(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ce.fromString(e,...n));return qp(s),new Et(t.firestore,t instanceof qn?t.converter:null,new q(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=H_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function TL(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Iv(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function IL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AL(t);H("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>Fp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fp(e.remoteStore,i)),t.onlineComponents=e}async function AL(t){return t.offlineComponents||(H("FirestoreClient","Using default OfflineComponentProvider"),await TL(t,new yL)),t.offlineComponents}async function Hv(t){return t.onlineComponents||(H("FirestoreClient","Using default OnlineComponentProvider"),await IL(t,new _L)),t.onlineComponents}function SL(t){return Hv(t).then(e=>e.syncEngine)}async function Gp(t){const e=await Hv(t),n=e.eventManager;return n.onListen=iL.bind(null,e.syncEngine),n.onUnlisten=aL.bind(null,e.syncEngine),n}class CL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Sv(this,"async_queue_retry"),this.Wc=()=>{const n=gl();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=gl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=gl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new ws;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!oo(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{this.Kc=s,this.Gc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw wn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Gc=!1,s))));return this.Bc=n,n}enqueueAfterDelay(e,n,s){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=Wh.createAndSchedule(this,e,n,s,i=>this.Yc(i));return this.Uc.push(r),r}zc(){this.Kc&&Y()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Yp(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Nr extends bc{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new CL,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kv(this),this._firestoreClient.terminate()}}function qv(t,e){const n=typeof t=="object"?t:$y(),s=typeof t=="string"?t:e||"(default)",r=ch(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=EN("firestore");i&&EL(r,...i)}return r}function zv(t){return t._firestoreClient||Kv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Kv(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new ok(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new bL(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(at.fromBase64String(e))}catch(n){throw new $(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=/^__.*__$/;class OL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ao(e,this.data,n,this.fieldTransforms)}}class Wv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Zh{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.yt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:s,oa:!1});return r.ua(e),r}ca(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:s,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Na(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Gv(this.sa)&&NL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class DL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=s||_c(e)}da(e,n,s,r=!1){return new Zh({sa:e,methodName:n,fa:s,path:nt.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ef(t){const e=t._freezeSettings(),n=_c(t._databaseId);return new DL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kL(t,e,n,s,r,i={}){const o=t.da(i.merge||i.mergeFields?2:0,e,n,r);nf("Data must be an object, but it was:",o,s);const a=Yv(s,o);let c,l;if(i.merge)c=new Tt(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=pu(e,h,n);if(!o.contains(f))throw new $(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Xv(u,f)||u.push(f)}c=new Tt(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new OL(new _t(a),c,l)}class Ac extends Ic{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}class tf extends Ic{_toFieldTransform(e){return new Sk(e.path,new Mi)}isEqual(e){return e instanceof tf}}function RL(t,e,n,s){const r=t.da(1,e,n);nf("Data must be an object, but it was:",r,s);const i=[],o=_t.empty();Ms(s,(c,l)=>{const u=sf(e,c,n);l=He(l);const h=r.ca(u);if(l instanceof Ac)i.push(u);else{const f=ho(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Tt(i);return new Wv(o,a,r.fieldTransforms)}function LL(t,e,n,s,r,i){const o=t.da(1,e,n),a=[pu(e,s,n)],c=[r];if(i.length%2!=0)throw new $(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(pu(e,i[f])),c.push(i[f+1]);const l=[],u=_t.empty();for(let f=a.length-1;f>=0;--f)if(!Xv(l,a[f])){const p=a[f];let m=c[f];m=He(m);const y=o.ca(p);if(m instanceof Ac)l.push(p);else{const w=ho(m,y);w!=null&&(l.push(p),u.set(p,w))}}const h=new Tt(l);return new Wv(u,h,o.fieldTransforms)}function xL(t,e,n,s=!1){return ho(n,t.da(s?4:3,e))}function ho(t,e){if(Qv(t=He(t)))return nf("Unsupported field value:",e,t),Yv(t,e);if(t instanceof Ic)return function(n,s){if(!Gv(s.sa))throw s.ha(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=ho(o,s.aa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=He(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Tk(s.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Fe.fromDate(n);return{timestampValue:Sa(s.yt,r)}}if(n instanceof Fe){const r=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sa(s.yt,r)}}if(n instanceof Jh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Or)return{bytesValue:_v(s.yt,n._byteString)};if(n instanceof Et){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Uh(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.ha(`Unsupported field value: ${wc(n)}`)}(t,e)}function Yv(t,e){const n={};return q_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(s,r)=>{const i=ho(r,e.ra(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Qv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Jh||t instanceof Or||t instanceof Et||t instanceof Ic)}function nf(t,e,n){if(!Qv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=wc(n);throw s==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+s)}}function pu(t,e,n){if((e=He(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return sf(t,e);throw Na("Field path arguments must be of type string or ",t,!1,void 0,n)}const ML=new RegExp("[~\\*/\\[\\]]");function sf(t,e,n){if(e.search(ML)>=0)throw Na(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw Na(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Na(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new $(b.INVALID_ARGUMENT,a+t+c)}function Xv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PL extends Jv{data(){return super.data()}}function rf(t,e){return typeof e=="string"?sf(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}class Zv extends of{}function VL(t,e,...n){let s=[];e instanceof of&&s.push(e),s=s.concat(n),function(r){const i=r.filter(a=>a instanceof cf).length,o=r.filter(a=>a instanceof af).length;if(i>1||i>0&&o>0)throw new $(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class af extends Zv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return eE(e._query,n),new $s(e.firestore,e.converter,ou(e._query,n))}_parse(e){const n=ef(e.firestore);return function(r,i,o,a,c,l,u){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new $(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Xp(u,l);const f=[];for(const p of u)f.push(Qp(a,r,p));h={arrayValue:{values:f}}}else h=Qp(a,r,u)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Xp(u,l),h=xL(o,i,u,l==="in"||l==="not-in");return Ve.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cf extends of{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let i=s;const o=r.getFlattenedFilters();for(const a of o)eE(i,a),i=ou(i,a)}(e._query,n),new $s(e.firestore,e.converter,ou(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lf extends Zv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lf(e,n)}_apply(e){const n=function(s,r,i){if(s.startAt!==null)throw new $(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new $(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new nr(r,i);return function(a,c){if(Ph(a)===null){const l=dc(a);l!==null&&tE(a,l,c.field)}}(s,o),o}(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,function(s,r){const i=s.explicitOrderBy.concat([r]);return new Fr(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function UL(t,e="asc"){const n=e,s=rf("orderBy",t);return lf._create(s,n)}function Qp(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new $(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ev(e)&&n.indexOf("/")!==-1)throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ce.fromString(n));if(!q.isDocumentKey(s))throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wp(t,new q(s))}if(n instanceof Et)return wp(t,n._key);throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wc(n)}.`)}function Xp(t,e){if(!Array.isArray(t)||t.length===0)throw new $(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new $(b.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eE(t,e){if(e.isInequality()){const s=dc(t),r=e.field;if(s!==null&&!s.isEqual(r))throw new $(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${r.toString()}'`);const i=Ph(t);i!==null&&tE(t,r,i)}const n=function(s,r){for(const i of s)for(const o of i.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tE(t,e,n){if(!n.isEqual(e))throw new $(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class FL{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){const s={};return Ms(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new Jh($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=K_(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Li(e));default:return null}}convertTimestamp(e){const n=Xn(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ce.fromString(e);Ie(Tv(s));const r=new Ri(s.get(1),s.get(3)),i=new q(s.popFirst(5));return r.isEqual(n)||wn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nE extends Jv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xo extends nE{data(e={}){return super.data(e)}}class jL{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new si(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xo(this._firestore,this._userDataWriter,s.key,s,new si(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new Xo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new si(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Xo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new si(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:HL(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}class sE extends FL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function qL(t,e,n,...s){t=Hn(t,Et);const r=Hn(t.firestore,Nr),i=ef(r);let o;return o=typeof(e=He(e))=="string"||e instanceof Tc?LL(i,"updateDoc",t._key,e,n,s):RL(i,"updateDoc",t._key,e),uf(r,[o.toMutation(t._key,Bt.exists(!0))])}function zL(t){return uf(Hn(t.firestore,Nr),[new Vh(t._key,Bt.none())])}function KL(t,e){const n=Hn(t.firestore,Nr),s=Xh(t),r=BL(t.converter,e);return uf(n,[kL(ef(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Bt.exists(!1))]).then(()=>s)}function WL(t,...e){var n,s,r;t=He(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Yp(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Yp(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,u;if(t instanceof Et)l=Hn(t.firestore,Nr),u=Mh(t._key.path),c={next:h=>{e[o]&&e[o](GL(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Hn(t,$s);l=Hn(h.firestore,Nr),u=h._query;const f=new sE(l);c={next:p=>{e[o]&&e[o](new jL(l,f,h,p))},error:e[o+1],complete:e[o+2]},$L(t._query)}return function(h,f,p,m){const y=new wL(m),w=new eL(f,y,p);return h.asyncQueue.enqueueAndForget(async()=>QR(await Gp(h),w)),()=>{y.bc(),h.asyncQueue.enqueueAndForget(async()=>XR(await Gp(h),w))}}(zv(l),u,a,c)}function uf(t,e){return function(n,s){const r=new ws;return n.asyncQueue.enqueueAndForget(async()=>cL(await SL(n),s,r)),r.promise}(zv(t),e)}function GL(t,e,n){const s=n.docs.get(e._key),r=new sE(t);return new nE(t,r,e._key,s,new si(n.hasPendingWrites,n.fromCache),e.converter)}function Jp(){return new tf("serverTimestamp")}(function(t,e=!0){(function(n){Ur=n})(Yi),Er(new Ss("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new Nr(new GD(n.getProvider("auth-internal")),new JD(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new $(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ri(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),jn(yp,"3.8.1",t),jn(yp,"3.8.1","esm2017")})();function hf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function rE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YL=rE,iE=new Wi("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new oh("@firebase/auth");function Jo(t,...e){Zp.logLevel<=ge.ERROR&&Zp.error(`Auth (${Yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,...e){throw ff(t,...e)}function nn(t,...e){return ff(t,...e)}function QL(t,e,n){const s=Object.assign(Object.assign({},YL()),{[e]:n});return new Wi("auth","Firebase",s).create(e,{appName:t.name})}function ff(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return iE.create(t,...e)}function G(t,e,...n){if(!t)throw ff(e,...n)}function fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jo(e),new Error(e)}function In(t,e){t||fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map;function dn(t){In(t instanceof Function,"Expected a class definition");let e=eg.get(t);return e?(In(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eg.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){const n=ch(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(da(i,e??{}))return r;qt(r,"already-initialized")}return n.initialize({options:e})}function JL(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(dn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZL(){return tg()==="http:"||tg()==="https:"}function tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZL()||AN()||"connection"in navigator)?navigator.onLine:!0}function tx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.shortDelay=e,this.longDelay=n,In(n>e,"Short delay should be less than long delay!"),this.isMobile=IN()||SN()}get(){return ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){In(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new fo(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,n,s,r={}){return aE(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Gi(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),oE.fetch()(cE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function aE(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},nx),e);try{const r=new rx(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uo(t,"user-disabled",o);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QL(t,u,l);qt(t,u)}}catch(r){if(r instanceof Cn)throw r;qt(t,"network-request-failed")}}async function mo(t,e,n,s,r={}){const i=await go(t,e,n,s,r);return"mfaPendingCredential"in i&&qt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function cE(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?df(t.config,r):`${t.config.apiScheme}://${r}`}class rx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(nn(this.auth,"network-request-failed")),sx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=nn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function ox(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ax(t,e=!1){const n=He(t),s=await n.getIdToken(e),r=pf(s);G(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:gi(ml(r.auth_time)),issuedAtTime:gi(ml(r.iat)),expirationTime:gi(ml(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ml(t){return Number(t)*1e3}function pf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Jo("JWT malformed, contained fewer than 3 sections"),null;try{const r=ky(n);return r?JSON.parse(r):(Jo("Failed to decode base64 JWT payload"),null)}catch(r){return Jo("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function cx(t){const e=pf(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Cn&&lx(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function lx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Vi(t,ox(n,{idToken:s}));G(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?dx(i.providerUserInfo):[],a=fx(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function hx(t){const e=He(t);await Oa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fx(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function dx(t){return t.map(e=>{var{providerId:n}=e,s=hf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e){const n=await aE(t,{},async()=>{const s=Gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=cE(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oE.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await px(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Ui;return s&&(G(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(G(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(G(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ax(this,e)}reload(){return hx(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vi(this,ix(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,c,l,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,k=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:R,emailVerified:x,isAnonymous:z,providerData:K,stsTokenManager:se}=n;G(R&&se,e,"internal-error");const _e=Ui.fromJSON(this.name,se);G(typeof R=="string",e,"internal-error"),kn(h,e.name),kn(f,e.name),G(typeof x=="boolean",e,"internal-error"),G(typeof z=="boolean",e,"internal-error"),kn(p,e.name),kn(m,e.name),kn(y,e.name),kn(w,e.name),kn(I,e.name),kn(k,e.name);const ve=new Ts({uid:R,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:z,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:_e,createdAt:I,lastLoginAt:k});return K&&Array.isArray(K)&&(ve.providerData=K.map(de=>Object.assign({},de))),w&&(ve._redirectEventId=w),ve}static async _fromIdTokenResponse(e,n,s=!1){const r=new Ui;r.updateFromServerResponse(n);const i=new Ts({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Oa(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uE.type="NONE";const ng=uE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e,n){return`firebase:${t}:${e}:${n}`}class ir{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Zo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Zo("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ir(dn(ng),e,s);const r=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=r[0]||dn(ng);const o=Zo(s,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=Ts._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ir(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new ir(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gE(e))return"Blackberry";if(mE(e))return"Webos";if(gf(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(pE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function hE(t=ot()){return/firefox\//i.test(t)}function gf(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(t=ot()){return/crios\//i.test(t)}function dE(t=ot()){return/iemobile/i.test(t)}function pE(t=ot()){return/android/i.test(t)}function gE(t=ot()){return/blackberry/i.test(t)}function mE(t=ot()){return/webos/i.test(t)}function Sc(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gx(t=ot()){var e;return Sc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mx(){return CN()&&document.documentMode===10}function yE(t=ot()){return Sc(t)||pE(t)||mE(t)||gE(t)||/windows phone/i.test(t)||dE(t)}function yx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e=[]){let n;switch(t){case"Browser":n=sg(ot());break;case"Worker":n=`${sg(ot())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rg(this),this.idTokenSubscription=new rg(this),this.beforeStateQueue=new _x(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await ir.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?He(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(dn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wi("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await ir.create(this,[dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return G(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function yo(t){return He(t)}class rg{constructor(e){this.auth=e,this.observer=null,this.addObserver=xN(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ex(t,e,n){const s=yo(t);G(s._canInitEmulator,s,"emulator-config-failed"),G(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=vE(e),{host:o,port:a}=wx(e),c=a===null?"":`:${a}`;s.config.emulator={url:`${i}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||bx()}function vE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wx(t){const e=vE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:ig(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:ig(o)}}}function ig(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fn("not implemented")}_getIdTokenResponse(e){return fn("not implemented")}_linkToIdToken(e,n){return fn("not implemented")}_getReauthenticationResolver(e){return fn("not implemented")}}async function Tx(t,e){return go(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e){return mo(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e){return mo(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function Sx(t,e){return mo(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends mf{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Fi(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fi(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ix(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ax(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Tx(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Sx(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function or(t,e){return mo(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="http://localhost";class Ds extends mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=hf(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new Ds(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return or(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,or(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,or(e,n)}buildRequest(){const e={requestUri:Cx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ox(t){const e=Jr(Zr(t)).link,n=e?Jr(Zr(e)).deep_link_id:null,s=Jr(Zr(t)).deep_link_id;return(s?Jr(Zr(s)).link:null)||s||n||e||t}class yf{constructor(e){var n,s,r,i,o,a;const c=Jr(Zr(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(s=c.oobCode)!==null&&s!==void 0?s:null,h=Nx((r=c.mode)!==null&&r!==void 0?r:null);G(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Ox(e);try{return new yf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.providerId=Hr.PROVIDER_ID}static credential(e,n){return Fi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yf.parseLink(n);return G(s,"argument-error"),Fi._fromEmailAndCode(e,s.code,s.tenantId)}}Hr.PROVIDER_ID="password";Hr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends EE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends _o{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xn.credential(e.oauthAccessToken)}catch{return null}}}xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends _o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Mn.credential(n,s)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends _o{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pn.credential(e.oauthAccessToken)}catch{return null}}}Pn.GITHUB_SIGN_IN_METHOD="github.com";Pn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends _o{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $n.credential(n,s)}catch{return null}}}$n.TWITTER_SIGN_IN_METHOD="twitter.com";$n.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e){return mo(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Ts._fromIdTokenResponse(e,s,r),o=og(s);return new ks({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=og(s);return new ks({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function og(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Cn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Da.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Da(e,n,s,r)}}function wE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Da._fromErrorAndOperation(t,i,e,s):i})}async function kx(t,e,n=!1){const s=await Vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t,e,n=!1){const{auth:s}=t,r="reauthenticate";try{const i=await Vi(t,wE(s,r,e,t),n);G(i.idToken,s,"internal-error");const o=pf(i.idToken);G(o,s,"internal-error");const{sub:a}=o;return G(t.uid===a,s,"user-mismatch"),ks._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qt(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(t,e,n=!1){const s="signIn",r=await wE(t,s,e),i=await ks._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function Lx(t,e){return bE(yo(t),e)}async function xx(t,e,n){const s=yo(t),r=await Dx(s,{returnSecureToken:!0,email:e,password:n}),i=await ks._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}function Mx(t,e,n){return Lx(He(t),Hr.credential(e,n))}function Px(t,e,n,s){return He(t).onIdTokenChanged(e,n,s)}function $x(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function TE(t,e,n,s){return He(t).onAuthStateChanged(e,n,s)}function Vx(t){return He(t).signOut()}const ka="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){const t=ot();return gf(t)||Sc(t)}const Fx=1e3,Bx=10;class AE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ux()&&yx(),this.fallbackToPolling=yE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);mx()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Bx):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AE.type="LOCAL";const jx=AE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SE.type="SESSION";const CE=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Cc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await Hx(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=_f("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function zx(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function Kx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Gx(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",Yx=1,Ra="firebaseLocalStorage",DE="fbase_key";class vo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nc(t,e){return t.transaction([Ra],e?"readwrite":"readonly").objectStore(Ra)}function Qx(){const t=indexedDB.deleteDatabase(OE);return new vo(t).toPromise()}function mu(){const t=indexedDB.open(OE,Yx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ra,{keyPath:DE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ra)?e(s):(s.close(),await Qx(),e(await mu()))})})}async function ag(t,e,n){const s=Nc(t,!0).put({[DE]:e,value:n});return new vo(s).toPromise()}async function Xx(t,e){const n=Nc(t,!1).get(e),s=await new vo(n).toPromise();return s===void 0?null:s.value}function cg(t,e){const n=Nc(t,!0).delete(e);return new vo(n).toPromise()}const Jx=800,Zx=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Zx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(Gx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kx(),!this.activeServiceWorker)return;this.sender=new qx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mu();return await ag(e,ka,"1"),await cg(e,ka),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ag(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Xx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Nc(r,!1).getAll();return new vo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const eM=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nM(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=nn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",tM().appendChild(s)})}function sM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){return e?dn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return or(e,this._buildIdpRequest())}_linkToIdToken(e,n){return or(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return or(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iM(t){return bE(t.auth,new vf(t),t.bypassAuthState)}function oM(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),Rx(n,new vf(t),t.bypassAuthState)}async function aM(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),kx(n,new vf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iM;case"linkViaPopup":case"linkViaRedirect":return aM;case"reauthViaPopup":case"reauthViaRedirect":return oM;default:qt(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new fo(2e3,1e4);class Xs extends RE{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){In(this.filter.length===1,"Popup operations only handle one event");const e=_f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,cM.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="pendingRedirect",ea=new Map;class uM extends RE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ea.get(this.auth._key());if(!e){try{const s=await hM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ea.set(this.auth._key(),e)}return this.bypassAuthState||ea.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hM(t,e){const n=pM(e),s=dM(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function fM(t,e){ea.set(t._key(),e)}function dM(t){return dn(t._redirectPersistence)}function pM(t){return Zo(lM,t.config.apiKey,t.name)}async function gM(t,e,n=!1){const s=yo(t),r=rM(s,e),o=await new uM(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=10*60*1e3;class yM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_M(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LE(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mM&&this.cachedEventUids.clear(),this.cachedEventUids.has(lg(e))}saveEventToCache(e){this.cachedEventUids.add(lg(e)),this.lastProcessedEventTime=Date.now()}}function lg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _M(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function bM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vM(t);for(const n of e)try{if(TM(n))return}catch{}qt(t,"unauthorized-domain")}function TM(t){const e=gu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!wM.test(n))return!1;if(EM.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new fo(3e4,6e4);function ug(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AM(t){return new Promise((e,n)=>{var s,r,i;function o(){ug(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ug(),n(nn(t,"network-request-failed"))},timeout:IM.get()})}if(!((r=(s=sn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=sn().gapi)===null||i===void 0)&&i.load)o();else{const a=sM("iframefcb");return sn()[a]=()=>{gapi.load?o():n(nn(t,"network-request-failed"))},nM(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ta=null,e})}let ta=null;function SM(t){return ta=ta||AM(t),ta}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new fo(5e3,15e3),NM="__/auth/iframe",OM="emulator/auth/iframe",DM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?df(e,OM):`https://${t.config.authDomain}/${NM}`,s={apiKey:e.apiKey,appName:t.name,v:Yi},r=kM.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Gi(s).slice(1)}`}async function LM(t){const e=await SM(t),n=sn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DM,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=nn(t,"network-request-failed"),a=sn().setTimeout(()=>{i(o)},CM.get());function c(){sn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MM=500,PM=600,$M="_blank",VM="http://localhost";class hg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UM(t,e,n,s=MM,r=PM){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},xM),{width:s.toString(),height:r.toString(),top:i,left:o}),l=ot().toLowerCase();n&&(a=fE(l)?$M:n),hE(l)&&(e=e||VM,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(gx(l)&&a!=="_self")return FM(e||"",a),new hg(null);const h=window.open(e||"",a,u);G(h,t,"popup-blocked");try{h.focus()}catch{}return new hg(h)}function FM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="__/auth/handler",jM="emulator/auth/handler";function fg(t,e,n,s,r,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Yi,eventId:r};if(e instanceof EE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,l]of Object.entries(i||{}))o[c]=l}if(e instanceof _o){const c=e.getScopes().filter(l=>l!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${HM(t)}?${Gi(a).slice(1)}`}function HM({config:t}){return t.emulator?df(t,jM):`https://${t.authDomain}/${BM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="webStorageSupport";class qM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=gM,this._overrideRedirectResult=fM}async _openPopup(e,n,s,r){var i;In((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=fg(e,n,s,gu(),r);return UM(e,o,_f())}async _openRedirect(e,n,s,r){return await this._originValidation(e),zx(fg(e,n,s,gu(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(In(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LM(e),s=new yM(e);return n.register("authEvent",r=>(G(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yl,{type:yl},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[yl];o!==void 0&&n(!!o),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yE()||gf()||Sc()}}const zM=qM;var dg="@firebase/auth",pg="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GM(t){Er(new Ss("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=s.options;return((a,c)=>{G(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),G(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(t)},u=new vx(a,c,l);return JL(u,n),u})(s,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Er(new Ss("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(s=>new KM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(dg,pg,WM(t)),jn(dg,pg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=5*60,QM=Ly("authIdTokenMaxAge")||YM;let gg=null;const XM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QM)return;const r=n==null?void 0:n.token;gg!==r&&(gg=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xE(t=$y()){const e=ch(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XL(t,{popupRedirectResolver:zM,persistence:[eM,jx,CE]}),s=Ly("authTokenSyncURL");if(s){const i=XM(s);$x(n,i,()=>i(n.currentUser)),Px(n,o=>i(o))}const r=Ry("auth");return r&&Ex(n,`http://${r}`),n}GM("Browser");const JM={apiKey:"AIzaSyBxKj0JIrVQHV5xr4qtZf030Qhq9BiqV2s",authDomain:"vue-chat-app-87e41.firebaseapp.com",projectId:"vue-chat-app-87e41",storageBucket:"vue-chat-app-87e41.appspot.com",messagingSenderId:"1097262698933",appId:"1:1097262698933:web:3527d42b466bf7a07a49fc"};Py(JM);const Oc=qv(),Dc=xE();let ME="";qv();async function ZM(t,e){e.user_id=ME,await KL(jv(Oc,t),e)}function eP(t,e){WL(VL(jv(Oc,t),UL("createdAt","asc")),n=>{e.length=0,n.docs.forEach(s=>{e.push({id:s.id,...s.data()})})})}async function tP(t,e,n){await qL(Xh(Oc,t,e),n)}async function nP(t,e){await zL(Xh(Oc,t,e))}async function sP(t,e){return await Mx(Dc,t,e)}async function rP(t,e){return await xx(Dc,t,e)}async function iP(){try{await Vx(Dc),console.log("user logout")}catch(t){console.log(t.message)}}TE(Dc,t=>{t&&(ME=t.uid)});const oP={methods:{async SignIn(){await sP(document.querySelector(".signin").email.value,document.querySelector(".signin").password.value)}}},aP={class:"login-form position-absolute top-50 start-50 translate-middle",style:{width:"300px"}},cP=dm('<h2 class="text-center mb-4">Sign In</h2><div class="form-group mb-3"><input type="text" name="email" class="form-control" placeholder="Email"></div><div class="form-group mb-2"><input type="password" name="password" class="form-control" placeholder="Password"></div><div class="form-group mb-4"><label class="float-left form-check-label"><input type="checkbox"> Remember me</label></div><div class="form-group mb-4 d-flex justify-content-center"><button type="submit" class="btn btn-primary btn-block">Sign In</button></div>',5),lP=[cP],uP=X("div",{class:"d-flex gap-2 justify-content-center"},[X("a",{href:"#",class:"text-no-decoration"},"Forgot Password ?"),X("a",{href:"#"},"Create an Account")],-1);function hP(t,e,n,s,r,i){return Ke(),ht("div",aP,[X("form",{class:"signin",onSubmit:e[0]||(e[0]=Vu((...o)=>i.SignIn&&i.SignIn(...o),["prevent"]))},lP,32),uP])}const fP=an(oP,[["render",hP]]),dP={methods:{async SignUp(){await rP(document.querySelector(".signup").email.value,document.querySelector(".signup").password.value)},async SignOut(){await iP()}}},pP={class:"login-form position-absolute top-50 start-50 translate-middle",style:{width:"300px"}},gP=dm('<h2 class="text-center mb-4">Sign Up</h2><div class="form-group mb-3"><input type="text" name="email" class="form-control" placeholder="Email"></div><div class="form-group mb-2"><input type="password" name="password" class="form-control" placeholder="Password"></div><div class="form-group mb-4 mt-4 d-flex justify-content-center"><button type="submit" class="btn btn-primary btn-block">Sign Up</button></div>',4),mP=[gP],yP=X("div",{class:"d-flex gap-2 justify-content-center"},[X("span",{clspanss:"text-no-decoration"},"Have an account ?"),X("a",{href:"#",class:"text-no-decoration"},"Login")],-1);function _P(t,e,n,s,r,i){return Ke(),ht(yt,null,[X("div",pP,[X("form",{class:"signup",onSubmit:e[0]||(e[0]=Vu((...o)=>i.SignUp&&i.SignUp(...o),["prevent"]))},mP,32),yP]),X("button",{onClick:e[1]||(e[1]=(...o)=>i.SignOut&&i.SignOut(...o))},"Log Out")],64)}const vP=an(dP,[["render",_P]]);const EP={data(){return{chatData:[],userID:""}},methods:{dateConvert(t){let e=new Date(t.seconds*1e3);return e.getHours()+":"+e.getMinutes()},checkMessage(t){return t==this.userID},getMessage(){eP("messages",this.chatData)},async sendMessage(){await ZM("messages",{message:document.querySelector(".add").message.value,createdAt:Jp()})},async updateMessage(){await tP("messages",document.querySelector(".update").id.value,{user_id:1,message:document.querySelector(".update").message.value,createdAt:Jp()})},async deleteMessage(){await nP("messages",document.querySelector(".delete").id.value)}},mounted(){this.getMessage(),TE(xE(),t=>{t&&(this.userID=t.uid)})}},wP={class:"container d-flex flex-column mx-auto col-4",style:{height:"100vh"}},bP={style:{height:"95vh","background-color":"#2596be","overflow-y":"auto"},class:"py-4 px-2 d-flex flex-column"},TP={key:0,style:{"font-size":"12px"},class:"me-2"},IP={key:1,style:{"font-size":"12px"},class:"ms-2"},AP=X("div",{class:"d-flex"},[X("input",{type:"text",name:"message",class:"px-2 input-msg"}),X("button",{type:"submit",class:"btn btn-primary"},"Send")],-1),SP=[AP];function CP(t,e,n,s,r,i){return Ke(),ht("div",wP,[X("div",bP,[(Ke(!0),ht(yt,null,eb(r.chatData,o=>(Ke(),ht("div",{key:o.id,class:mi(["my-3 d-flex align-items-end",{"justify-content-end":i.checkMessage(o.user_id)}])},[i.checkMessage(o.user_id)?(Ke(),ht("span",TP,kc(i.dateConvert(o.createdAt)),1)):Bf("",!0),X("span",{class:mi(["py-2 text-white border-1 rounded px-3",{"bg-primary":i.checkMessage(o.user_id),"bg-warning":!i.checkMessage(o.user_id)}]),style:{"max-width":"60% !important",width:"fit-content"}},kc(o.message),3),i.checkMessage(o.user_id)?Bf("",!0):(Ke(),ht("span",IP,kc(i.dateConvert(o.createdAt)),1))],2))),128))]),X("form",{class:"add",onSubmit:e[0]||(e[0]=Vu((...o)=>i.sendMessage&&i.sendMessage(...o),["prevent"]))},SP,32)])}const NP=an(EP,[["render",CP]]),OP=i0({history:bT("/vue_chat_app/"),routes:[{path:"/",name:"home",component:dN},{path:"/about",name:"about",component:()=>dC(()=>import("./AboutView-fb8b056e.js"),["assets/AboutView-fb8b056e.js","assets/AboutView-4d995ba2.css"])},{path:"/login",name:"login",component:fP},{path:"/register",name:"register",component:vP},{path:"/chat",name:"chat",component:NP}]});const Ef=eT(uC);Ef.use(rT());Ef.use(OP);Ef.mount("#app");export{an as _,X as a,ht as c,Ke as o};
